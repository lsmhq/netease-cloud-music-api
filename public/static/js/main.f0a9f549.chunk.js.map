{"version":3,"sources":["page/component/util/Context.js","page/component/util/request.js","page/component/util/Utils.js","page/component/list/index.js","page/component/songCard/index.js","page/main.js","page/person.js","page/song.js","page/component/Process/index.js","page/component/audio/index.js","App.js","page/login.js","reportWebVitals.js","page/regist.js","index.js"],"names":["context","createContext","instance","axios","create","headers","interceptors","request","use","config","token","localStorage","getItem","authorization","err","Promise","reject","response","data","code","Modal","alert","content","message","msg","http","get","path","params","a","cookie","timestamp","Date","getTime","encodeURIComponent","withCredentials","post","apiPath","throttle","fn","delay","valid","e","setTimeout","px2rem","px","fontSize","document","getElementsByTagName","style","split","includes","val","Number","formatSeconds","value","ms","theTime","parseInt","theTime1","theTime2","result","substring","List","props","onBottom","children","id","className","useState","height","setHeight","list","useRef","setUnMount","useEffect","current","onscroll","clientHeight","scrollHeight","scrollTop","console","log","isBottom","ref","width","SongCard","keyword","useList","item","setLoading","key","like","setIds","ids","useContext","setUrl","setAvator","setTitle","setId","onClick","then","res","success","url","al","picUrl","name","ar","Toast","show","catch","rightActions","text","color","stopPropagation","push","leftActions","columns","gap","Item","span","src","display","flexDirection","alignItems","justifyContent","direction","offset","Main","setList","setMusicList","banner","setBanner","banners","setBanners","keyWord","setKeyWord","loading","dailySongs","setDailySongs","input","tabKey","setTabKey","getData","callback","refrush","type","keywords","brr","songs","arr","concat","map","idx","window","open","pic","objectFit","alt","typeTitle","search","placeholder","onChange","onKeyDown","keyCode","blur","visible","activeKey","Tab","title","length","onRefresh","autoplay","loop","allowTouchMove","slideSize","description","Person","showPage","setShow","personInfo","setInfo","songNum","setSongNum","JSON","parse","avatarImgId","history","replace","uid","userId","join","ress","profile","padding","zIndex","overflow","avatarUrl","follows","followeds","level","nickname","expandText","collapseText","signature","marginTop","backgroundUrl","size","block","clear","Title","animated","Paragraph","lineCount","borderRadius","page","Songs","setShowMusic","slice","back","onBack","go","getElementById","scrollTo","top","behavior","Process","total","showTime","disable","percentage","setPercentage","innerTotal","setTotal","innerCurrent","setCurrent","setMove","flag","setflag","onMouseDown","per","clientX","currentTarget","getBoundingClientRect","left","clientWidth","onMouseUp","defaultProps","Audio","autoPlay","controls","next","avator","showProcess","onEnd","audio","setCurrentTime","setTotalTime","setAudioStatus","setIndex","play","setPlay","port","time","currentTime","onloadedmetadata","loadingData","oncanplay","ontimeupdate","onpause","onplay","duration","paused","boxSizing","background","border","icon","paddingLeft","pause","onEnded","audioArr","visiblee","tabs","AppOutline","UserOutline","timeArr","indexx","App","timer","pathname","useLocation","setNext","musicList","setVisible","songsContent","setContent","formatTime","setFormatTime","index","scroll","setScroll","setKey","audioStatus","showTab","setShowTab","zhContent","setZhContent","zhObj","setZhobj","isZh","setIsZh","showZh","setShowZh","onhashchange","location","hash","lrc","lyric","filter","tlyric","forEach","undefined","obj","zhIndex","getMusic","Math","floor","random","r","Provider","component","exact","Search","to","onMaskClick","bodyStyle","position","overflowY","fill","right","CloseOutline","flex","textAlign","transform","opacity","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Login","Form","useForm","form","disabled","setDisAble","setTime","checkPhone","rule","match","clearInterval","setInterval","boxShadow","backArrow","layout","footer","validateFields","rules","getFieldsValue","setItem","stringify","account","label","required","validator","phone","getFieldValue","captcha","extra","clearable","password","Regist","hasPassword","errors","values","submit","ReactDOM","render","StrictMode"],"mappings":"gUAEIA,EAAUC,wBAAc,I,0CCIxBC,EAAWC,IAAMC,OAAO,CACxBC,QAAS,CACP,eAAgB,uCAItBH,EAASI,aAAaC,QAAQC,KAC1B,SAAAC,GACE,IAAMC,EAAQC,aAAaC,QAAQ,SAInC,OAHIF,IACFD,EAAOJ,QAAQQ,cAAgBH,GAE1BD,KAET,SAAAK,GACE,OAAOC,QAAQC,OAAOF,MAG5BZ,EAASI,aAAaW,SAAST,KAC3B,SAAAS,GAGE,GAAIA,EAASC,KAAKC,KAChB,GACO,MADCF,EAASC,KAAKC,WAOlBC,IAAMC,MAAM,CACVC,QAASL,EAASC,KAAKK,SAAWN,EAASC,KAAKM,MAKxD,OAAOP,KAGb,IAAIQ,EAAO,CACPC,IAAI,WAAD,4BAAE,WAAOC,EAAMC,GAAb,2BAAAC,EAAA,6DAAqBC,EAArB,gCACDF,EAAOG,WAAY,IAAIC,MAAOC,UAC1BH,IACFF,EAAOE,OAASI,mBAAmBvB,aAAaC,QAAQ,YAHzD,SAIYV,EAASwB,IA9Cf,GA8C8BC,EAAM,CACvCC,SACAO,iBAAiB,IANpB,mFAAF,qDAAC,GASJC,KAAK,WAAD,4BAAE,WAAOT,EAAMC,GAAb,2BAAAC,EAAA,6DAAqBC,EAArB,gCACFF,EAAOG,WAAY,IAAIC,MAAOC,UAC1BH,IACFF,EAAOE,OAASI,mBAAmBvB,aAAaC,QAAQ,YAHxD,SAIWV,EAASkC,KAvDf,GAuD+BT,EAAM,CACxCC,SACAO,iBAAiB,IANnB,mFAAF,qDAAC,IAWLE,EACc,SAAAT,GAAM,OAAIH,EAAKC,IAAI,mBAAoBE,GAAQ,IAD7DS,EAEU,SAAAT,GAAM,OAAIH,EAAKC,IAAI,gBAAiBE,GAAQ,IAFtDS,EAGU,SAAAT,GAAM,OAAIH,EAAKC,IAAI,kBAAkBE,GAAQ,IAHvDS,EAIY,SAAAT,GAAM,OAAIH,EAAKC,IAAI,eAAgBE,IAJ/CS,EAKa,SAAAT,GAAM,OAAIH,EAAKC,IAAI,YAAaE,IAL7CS,EAMY,SAAAT,GAAM,OAAIH,EAAKC,IAAI,6BAA8BE,IAN7DS,EAOQ,SAAAT,GAAM,OAAIH,EAAKC,IAAI,sBAAsBE,IAPjDS,EAQU,SAAAT,GAAM,OAAIH,EAAKC,IAAI,eAAeE,IAR5CS,EASY,SAAAT,GAAM,OAAIH,EAAKC,IAAI,YAAYE,IAT3CS,EAUU,SAAAT,GAAM,OAAIH,EAAKC,IAAI,iBAAkBE,IAV/CS,EAWY,SAAAT,GAAM,OAAIH,EAAKC,IAAI,eAAgBE,IAX/CS,EAaY,SAAAT,GAAM,OAAIH,EAAKC,IAAI,eAAeE,IAb9CS,EAekB,SAAAT,GAAM,OAAIH,EAAKC,IAAI,mBAAoBE,IAfzDS,EAgBU,SAAAT,GAAM,OAAIH,EAAKC,IAAI,SAAUE,IAhBvCS,EAiBW,SAAAT,GAAM,OAAIH,EAAKC,IAAI,QAASE,IAjBvCS,EAkBQ,SAAAT,GAAM,OAAIH,EAAKC,IAAI,UAAWE,I,OCnE1C,SAASU,EAASC,EAAIC,GAClB,IAAIC,GAAQ,EACZ,OAAO,SAAUC,GACb,IAAKD,EACD,OAAO,EAEXA,GAAQ,EACRE,YAAW,WACPJ,EAAGG,GACHD,GAAQ,IACTD,IA0BX,SAASI,EAAQC,GACb,IAAIC,EAAWC,SAASC,qBAAqB,QAAQ,GAAGC,MAAMH,SAASI,MAAM,MAAM,GACnF,GAAiB,kBAAPL,GACHA,EAAGM,SAAS,OAAS,EAAE,CACtB,IAAIC,EAAMP,EAAGK,MAAM,MAAM,GACzB,MAAM,GAAN,OAAUG,OAAOD,GAAKC,OAAOP,GAA7B,OAGR,MAAM,GAAN,OAAUD,EAAGQ,OAAOP,GAApB,OAGJ,SAASQ,EAAcC,EAAOC,GAAK,IAAD,EAC1BC,EAAUC,SAASH,GACnBI,EAAW,EACXC,EAAW,EACXH,GAAW,KACXE,EAAWD,SAASD,EAAU,IAC9BA,EAAUC,SAASD,EAAU,IACzBE,GAAY,KACZC,EAAWF,SAASC,EAAW,IAC/BA,EAAWD,SAASC,EAAW,MAGvC,IAAIE,EAAS,GAAKH,SAASD,GAuB3B,OAtBGI,EAAS,KACRA,EAAS,IAAMA,GAEfF,EAAW,GACXE,EAAcH,SAASC,GAAY,IAAME,EACtCF,EAAW,KACVE,EAAS,IAAMA,IAGnBA,EAAS,MAAQA,EAEjBD,EAAW,GACXC,EAAcH,SAASE,GAAY,IAAMC,EACtCD,EAAW,KACVC,EAAS,IAAMA,IAGnBA,EAAS,MAAQA,EAIrBA,EAAM,UAAMA,EAAN,uBAAiB,GAAKN,GAAOL,MAAM,KAAK,UAAxC,aAAgB,EAA4BY,UAAU,EAAE,IAoFlE,I,OCxKe,SAASC,EAAKC,GACzB,IAAMC,EAA6CD,EAA7CC,SAAUC,EAAmCF,EAAnCE,SAAUjB,EAAyBe,EAAzBf,MAAOkB,EAAkBH,EAAlBG,GAAIC,EAAcJ,EAAdI,UACrC,EAAyBC,mBAAS,GAAlC,mBAAKC,EAAL,KAAYC,EAAZ,KACIC,EAAOC,iBAAO,MAClB,EAA8BJ,oBAAS,GAAvC,mBAAgBK,GAAhB,WA+CA,OA7CAC,qBAAU,WAENH,EAAKI,QAAQC,SAAWvC,GAAS,YAoBzC,SAAkBI,GAEd,IAAQoC,EAA0CpC,EAA1CoC,aAAcC,EAA4BrC,EAA5BqC,aAAcC,EAActC,EAAdsC,UAGpC,OAFiB3B,OAAO2B,GAAa3B,OAAOyB,IAAiBzB,OAAO0B,GAAgB,KAIlFE,QAAQC,IAAIZ,EAAQS,GAChBT,IAAWS,GACbE,QAAQC,IAAI,+CACL,IAKTX,EAAUQ,IAIH,KAxBNI,CAdaX,EAAKI,UAedX,GACCA,MAfD,OAEJ,CAACK,IACJK,qBAAU,WAEN,OAAO,WAEHD,GAAW,MAEhB,IAiCC,sBAAKN,UAAS,iBAAYA,GAAaD,GAAIA,EAAIiB,IAAKZ,EAAMvB,MAAK,eAAMA,GAArE,UACKiB,EACD,qBAAKjB,MAAO,CAACoC,MAAM,OAAQf,OAAO,aCyB/BgB,ICpFXC,EAA0BC,EDoFfF,EAxFf,SAAkBtB,GACd,IAAKyB,EAA4CzB,EAA5CyB,KAAMC,EAAsC1B,EAAtC0B,WAAYC,EAA0B3B,EAA1B2B,IAAKC,EAAqB5B,EAArB4B,KAAMC,EAAe7B,EAAf6B,OAAQC,EAAO9B,EAAP8B,IAC1C,EAAiDC,qBAAW/F,GAAtDgG,EAAN,EAAMA,OAAQC,EAAd,EAAcA,UAAWC,EAAzB,EAAyBA,SAAU/B,EAAnC,EAAmCA,GAAIgC,EAAvC,EAAuCA,MACvC,OAAO,cAAC,IAAD,CAAgBC,QAAS,WACzBX,EAAKtB,KAAOA,IACfuB,GAAW,GACXrD,EAAmB,CACf8B,GAAGsB,EAAKtB,KACTkC,MAAK,SAAAC,GACAA,EAAIpF,KAAKqF,QAGTlE,EAAoB,CAChB8B,GAAKsB,EAAKtB,KACXkC,MAAK,SAAAC,GAGJH,EAAMV,EAAKtB,IACX6B,EAAOM,EAAIpF,KAAKA,KAAK,GAAGsF,KACxBP,EAAUR,EAAKgB,GAAGC,QAClBR,EAAST,EAAKkB,KAAO,IAAMlB,EAAKmB,GAAG,GAAGD,MACtCjB,GAAW,MAXfmB,IAAMC,KAAKR,EAAI/E,YAcpBwF,OAAM,SAAAjG,GACL4E,GAAW,GACXmB,IAAMC,KAAK,+DAGf1C,UAAS,0CAAqCqB,EAAKtB,KAAOA,EAAK,cAAc,IA1B1E,SA4BP,cAAC,IAAD,CACI6C,aAAc,CACV,CACIrB,IAAK,MACLsB,KAAMrB,EAAK,eAAK,qBAChBsB,MAAOtB,EAAK,SAAS,UACrBQ,QAAQ,WAAD,4BAAC,WAAO1D,GAAP,SAAAb,EAAA,yDACJa,EAAEyE,kBACEvB,EAFA,uBAGAvD,EAAkB,CACd8B,GAAGsB,EAAKtB,KACTkC,MAAK,SAAAC,GACJO,IAAMC,KAAK,+BANf,0BAUJzE,EAAkB,CACd8B,GAAGsB,EAAKtB,GACRyB,MAAK,IACNS,MAAK,SAAAC,GACJO,IAAMC,KAAK,4BACXhB,EAAIsB,KAAK3B,EAAKtB,IACd0B,EAAO,YAAIC,OAhBX,2CAAD,mDAAC,KAqBhBuB,YAAa,CACT,CACI1B,IAAK,MACLsB,KAAM,qBACNC,MAAO,UACPd,QAAQ,WAAD,4BAAC,WAAO1D,GAAP,SAAAb,EAAA,sDACJa,EAAEyE,kBACF9E,EAAkB,CACd8B,GAAGsB,EAAKtB,KACTkC,MAAK,SAAAC,GACJO,IAAMC,KAAK,+BALX,2CAAD,mDAAC,KAUhB1C,UAAS,mBAAcqB,EAAKtB,KAAOA,EAAK,cAAc,IA1C1D,SA4CI,eAAC,IAAD,CAAMmD,QAAS,EAAGC,IAAK,GAAvB,UACI,cAAC,IAAKC,KAAN,CAAWC,KAAM,EAAjB,SACI,cAAC,IAAD,CAAQrD,UAAU,WAAWsD,IAAKjC,EAAKgB,GAAGC,WAE9C,eAAC,IAAKc,KAAN,CAAWC,KAAM,EAAGxE,MAAO,CAAC0E,QAAQ,OAAQC,cAAc,SAASC,WAAW,QAASC,eAAe,iBAAtG,UACI,cAAC,IAAD,CAAUC,UAAU,MAAM9E,MAAO,CAACH,SAAS,QAASxB,QAASmE,EAAKkB,OAClE,sBAAM1D,MAAO,CAACH,SAAS,QAAvB,SAAiC2C,EAAKmB,GAAG,GAAGD,gBA9EtChB,ICCTqC,EAAS,EAkNPC,MAjNf,SAASA,EAAMjE,GACX,MAAsBK,mBAAS,IAA/B,mBAAKG,EAAL,KAAW0D,EAAX,KACA,EAA+DnC,qBAAW/F,GAAvCmI,GAAnC,EAAMnC,OAAN,EAAcC,UAAd,EAAyBC,SAAzB,EAAmCiC,cACnC,GADA,EAAiDhE,GAAjD,EAAqDgC,MAC3B9B,mBAAS,KAAnC,mBAAK+D,EAAL,KAAaC,EAAb,KACA,EAA4BhE,mBAAS,IAArC,mBAAKiE,EAAL,KAAcC,EAAd,KACA,EAA4BlE,mBAAS,IAArC,mBAAKmE,EAAL,KAAcC,EAAd,KACA,EAA4BpE,oBAAS,GAArC,mBAAKqE,EAAL,KAAchD,EAAd,KAEA,EAAkCrB,mBAAS,IAA3C,mBAAKsE,EAAL,KAAiBC,EAAjB,KACIC,EAAQpE,iBAAO,MACnB,EAA0BJ,mBAAS,MAAnC,mBAAKyE,EAAL,KAAaC,EAAb,KAsCA,SAASC,EAAQC,GAAqC,IAA3BC,EAA0B,wDAATC,EAAS,uDAAF,EAC/CzD,GAAW,GAERH,GACClD,EAAoB,CAChB+G,SAAS7D,EACTyC,SACAmB,SACD9C,MAAK,SAAAC,GAEJ,GAAG4C,EAAQ,CACP,IAAIG,EAAM/C,EAAIpF,KAAK2C,OAAOyF,MAC1BpB,EAAQmB,GACRlB,EAAakB,GACbrB,EAAS,MACR,CACD,IAAIuB,EAAM/D,EAAQgE,OAAOlD,EAAIpF,KAAK2C,OAAOyF,OACzCpB,EAAQqB,GACRpB,EAAaoB,GACbvB,GAAU,GAKdiB,OAYZ,OAzEAtE,qBAAU,WAaN,OAZAtC,EAAkB,IAAIgE,MAAK,SAAAC,GAEvB+B,EAAU/B,EAAIpF,KAAKoH,YAEpB3H,aAAaC,QAAQ,aACpByB,EAA0B,IAAIgE,MAAK,SAAAC,GAE/BsC,EAActC,EAAIpF,KAAKA,KAAKyH,YAC5BR,EAAa7B,EAAIpF,KAAKA,KAAKyH,eAI7B,WACFF,EAAW,OAGjB,IACF9D,qBAAU,WACNa,EAAUhB,IACZ,CAACA,IACHG,qBAAU,WACN,IAAM2D,EAAUF,EAAOqB,KAAI,SAACrG,EAAKsG,GAAN,OACvB,cAAC,IAAOlC,KAAR,CAAapB,QAAS,WACduD,OAAOC,KAAKxG,EAAIyG,MADxB,SAGQ,qBAAK5G,MAAO,CAACqB,OAAO,OAAQe,MAAM,QAAlC,SACI,qBAAKpC,MAAO,CAACqB,OAAO,OAAQe,MAAM,OAAQyE,UAAU,SAAUpC,IAAKtE,EAAIyG,IAAKE,IAAK3G,EAAI4G,mBAIrGzB,EAAWD,KACb,CAACF,IACHzD,qBAAU,WACNM,QAAQC,IAAIoD,KACd,CAACA,IA8BHL,EAAKgC,OAAS,SAACtE,GACX8C,EAAW9C,GACXJ,EAAUI,EACVoD,EAAU,KACVC,GAAQ,WACJtD,GAAW,MACZ,IAEA,qCAEP,cAAC,IAAD,UACI,cAAC,IAAD,UACI,cAAC,IAAD,CACIN,IAAKyD,EACLqB,YAAY,eACZ3G,MAAOiF,EACPW,KAAK,SAASgB,SAAU,SAACzH,GACrB+F,EAAW/F,GACX6C,EAAU7C,GAGd0H,UAAW,SAAC1H,GACS,KAAdA,EAAE2H,UACD9E,EAAUiD,EACNE,IACAR,EAAQ,IACL3C,IACCyC,EAAS,EACTgB,GAAQ,WAAK,IAAD,EACRtD,GAAW,GACX,UAAAmD,EAAMjE,eAAN,SAAe0F,WAGR,KAAZ/E,IACCG,GAAW,GACXsC,EAAS,GAEbe,EAAU,cAOlC,cAAC,IAAD,CAAMwB,QAAS7B,EAAf,SACI,qBAAKtE,UAAU,iBAAf,SACMsE,GAAW,cAAC,IAAD,CAAazF,MAAO,CAAE,SAAU,QAAUiE,MAAM,gBAGrE,eAAC,IAAD,CACIiD,SAAU,SAACxE,GAEPoD,EAAUpD,IAEd6E,UAAW1B,EACX1E,UAAU,OANd,UAQI,cAAC,IAAKqG,IAAN,CACIC,MACI,cAAC,IAAD,CAAOpJ,QAAO,UAAKqH,EAAWgC,QAC1B1H,MAAO,CAAE,UAAW,QAAS,QAAS,OAD1C,sCAFR,SASI,cAACc,EAAD,CAAMd,MAAO,CAACqB,OAAO,QAArB,SACA,eAAC,IAAD,CAAesG,UAAW,WACnBjK,aAAaC,QAAQ,cACpBgI,EAAc,IACdT,EAAa,IACb9F,EAA0B,IAAIgE,MAAK,SAAAC,GAE/BsC,EAAc,YAAItC,EAAIpF,KAAKA,KAAKyH,aAChCR,EAAa,YAAI7B,EAAIpF,KAAKA,KAAKyH,kBAP3C,UAWA,cAAC,IAAD,CAAQkC,UAAQ,EAACC,MAAI,EAACC,gBAAc,EAAC9H,MAAO,CAACqB,OAAO1B,EAAO,SAAS,kBAAkB,OAAQoI,UAAW,IAAzG,SACG1C,IAGCK,EAAWc,KAAI,SAAChE,EAAMiE,GAClB,OACI,cAAC,EAAD,CAAsBjE,KAAMA,EAAMG,MAAM,EAAOF,WAAcA,GAA5CgE,MAKH,IAAtBf,EAAWgC,QAAgB,cAAC,IAAD,CAAOM,YAAY,uEAzB9C,MAgCR,cAAC,IAAKR,IAAN,CACIC,MACI,cAAC,IAAD,CAAOpJ,QAAO,UAAKkD,EAAKmG,QACpB1H,MAAO,CAAE,UAAW,QAAS,QAAS,OAD1C,sCAMJA,MAAO,CAACqB,OAAO,QARnB,SASI,eAACP,EAAD,CAAME,SAAU,WACZ+E,GAAQ,WACJtD,GAAW,MACb,IAHN,UAOIlB,EAAKiF,KAAI,SAAChE,EAAMiE,GACZ,OACI,cAAC,EAAD,CAAsBjE,KAAMA,EAAMG,MAAM,EAAOF,WAAcA,GAA5CgE,MAKT,IAAhBlF,EAAKmG,QAAgB,cAAC,IAAD,CAAOM,YAAY,iCAhBvC,YCtDFC,IC/HX1F,ED+HW0F,EAnIf,SAAgBlH,GACZ,MAA0BK,oBAAS,GAAnC,mBAAK8G,EAAL,KAAeC,EAAf,KACA,EAA4B/G,mBAAS,IAArC,mBAAKgH,EAAL,KAAiBC,EAAjB,KACA,EAA4BjH,mBAAS,GAArC,mBAAKkH,EAAL,KAAcC,EAAd,KAEA,EAAsBnH,mBAAS,IAA/B,mBAAW6D,GAAX,WACMC,EAAiBpC,qBAAW/F,GAA5BmI,aA+CN,OA9CAxD,qBAAU,WAAK,IAAD,EAEV,GAAGhE,aAAaC,QAAQ,YAiCxB,OAzBG,UANCyK,EAAaI,KAAKC,MAAM/K,aAAaC,QAAQ,oBAM9C,aAAC,EAAY+K,cACZ3H,EAAM4H,QAAQC,QAAQ,UAE1BxJ,EAAoB,CAChByJ,IAAIT,EAAWU,SAChB1F,MAAK,SAAAC,GAEJgF,EAAQ,eAAIhF,EAAIpF,UAEpBmB,EAAoB,CAChByJ,IAAKT,EAAWU,SACjB1F,MAAK,SAAAC,GAGJkF,EAAWlF,EAAIpF,KAAK4E,IAAI6E,QACxBtI,EAAiB,CACbyD,IAAIQ,EAAIpF,KAAK4E,IAAIkG,KAAK,OACvB3F,MAAK,SAAA4F,GAEkB,MAAnBA,EAAK/K,KAAKC,OACT+G,EAAQ,YAAI+D,EAAK/K,KAAKoI,QACtBnB,EAAa,YAAI8D,EAAK/K,KAAKoI,eAIhC,aA7BHtF,EAAM4H,QAAQC,QAAQ,YAgC5B,IACFlH,qBAAU,WAAO,IAAD,EAGZ,OAFA,UAAG0G,SAAH,aAAG,EAAYa,UACXd,GAAQ,GACL,eAER,CAACC,IAGA,qCACKF,GAAY,mCAGT,sBAAKlI,MAAO,CAACqB,OAAO,OAAO6H,QAAQ,OAAOC,OAAO,KAAMC,SAAS,UAAhE,UACI,cAAC,IAAD,CAAMjI,UAAU,yBAAhB,SACI,eAAC,IAAD,CAAMkD,QAAS,EAAf,UACI,cAAC,IAAKE,KAAN,CAAWC,KAAM,EAAGxE,MAAO,CAAC0E,QAAQ,OAAOG,eAAe,UAA1D,SACI,cAAC,IAAD,CAAQJ,IAAK2D,EAAWa,QAAQI,cAEpC,cAAC,IAAK9E,KAAN,CAAWvE,MAAO,CAACqB,OAAO,UAC1B,cAAC,IAAKkD,KAAN,CAAWC,KAAM,EAAGxE,MAAO,CAAC0E,QAAQ,OAAOG,eAAe,UAA1D,SACI,eAAC,IAAD,CAAMR,QAAS,EAAGC,IAAK,GAAItE,MAAO,CAACH,SAAS,QAA5C,UACI,eAAC,IAAK0E,KAAN,CAAWC,KAAM,EAAjB,UACK4D,EAAWa,QAAQK,QADxB,mBAGA,eAAC,IAAK/E,KAAN,CAAWC,KAAM,EAAjB,UACK4D,EAAWa,QAAQM,UADxB,mBAGA,eAAC,IAAKhF,KAAN,CAAWC,KAAM,EAAjB,gBACQ4D,EAAWoB,cAI3B,cAAC,IAAKjF,KAAN,CAAWvE,MAAO,CAACqB,OAAO,UAC1B,cAAC,IAAKkD,KAAN,CAAWC,KAAM,EAAGxE,MAAO,CAAC0E,QAAQ,OAAOG,eAAe,UAA1D,SACI,sBAAM7E,MAAO,CAACH,SAAS,QAAvB,SAAiCuI,EAAWa,QAAQQ,aAExD,cAAC,IAAKlF,KAAN,CAAWvE,MAAO,CAACqB,OAAO,UAC1B,cAAC,IAAKkD,KAAN,CAAWC,KAAM,EAAjB,SACI,cAAC,IAAD,CAAUM,UAAU,MAAM9E,MAAO,CAACH,SAAS,QAAS6J,WAAW,eAAKC,aAAa,eAAKtL,QAAO,mCAAU+J,EAAWa,QAAQW,oBAItI,cAAC,IAAD,CAAQ5J,MAAO,CAAC6J,UAAU,OAAQX,QAAQ,KACtC/F,QAAS,WACDpC,EAAM4H,QAAQxE,KAAK,UAF/B,SAKI,cAAC,IAAD,UACI,eAAC,IAAD,CAAME,QAAS,GAAIC,IAAK,GAAxB,UACI,cAAC,IAAKC,KAAN,CAAWC,KAAM,EAAjB,SACI,cAAC,IAAD,CAAQC,IAAK2D,EAAWa,QAAQa,cAAe9J,MAAO,CAACqB,OAAO,OAAQe,MAAM,YAEhF,eAAC,IAAKmC,KAAN,CAAaC,KAAM,EAAGxE,MAAO,CAAC0E,QAAQ,OAAOC,cAAc,SAASE,eAAe,UAAnF,UACQ,sBAAM7E,MAAO,CAACH,SAAS,QAAvB,kDACA,uBACA,uBAAMG,MAAO,CAACH,SAAS,QAAvB,UAAiCyI,EAAjC,sBAKpB,qBAAKtI,MAAO,CAACqB,OAAO,OAAQe,MAAM,UAGlC,cAAC,IAAD,CAAQ6B,MAAM,SAAS8F,KAAK,QAAQC,OAAK,EAAC7G,QAAS,WAC/C/D,EAAe,IAAIgE,MAAK,SAAAC,GACC,MAAlBA,EAAIpF,KAAKC,OACRR,aAAauM,QACblJ,EAAM4H,QAAQC,QAAQ,eAJlC,4CAWHV,GAAY,mCACT,eAAC,IAAD,CAAM7D,QAAS,EAAGrE,MAAO,CAACkJ,QAAQ,QAAlC,UACI,cAAC,IAASgB,MAAV,CAAgBC,UAAQ,IACxB,cAAC,IAASC,UAAV,CAAoBC,UAAW,EAAGF,UAAQ,IAC1C,cAAC,IAAD,CAAUA,UAAQ,EAACnK,MAAO,CAACoC,MAAM,OAAQf,OAAO,OAAQiJ,aAAa,kBCxHhFC,EAAO,EAuHLC,MAtHf,SAAezJ,GACX,MAA0BK,oBAAS,GAAnC,mBAAK8G,EAAL,KAAeC,EAAf,KACA,EAA4B/G,mBAAS,IAArC,mBAAKgH,EAAL,KACA,GADA,KACsBhH,mBAAS,KAA/B,mBAAKG,EAAL,KAAW0D,EAAX,KACA,EAA+DnC,qBAAW/F,GAA5BmI,GAA9C,EAAMnC,OAAN,EAAcC,UAAd,EAAyBC,SAAzB,EAAmC/B,GAAnC,EAAuCgC,MAAvC,EAA8CgC,cAC9C,EAAgC9D,oBAAS,GAAzC,mBAAgBqJ,GAAhB,WACA,EAA4BrJ,oBAAS,GAArC,mBAAKqE,EAAL,KAAchD,EAAd,KACA,EAAoBrB,mBAAS,IAA7B,mBAAKyB,EAAL,KAAUD,EAAV,KACAlB,qBAAU,WAEN,GAAGhE,aAAaC,QAAQ,YAAxB,CAAqC,IAAD,EAGhC,GAAG,UAFHyK,EAAaI,KAAKC,MAAM/K,aAAaC,QAAQ,oBAE1C,aAAC,EAAY+K,YAUpB,OALI3C,EADAwE,EAAO,GAMJ,aATCxJ,EAAM4H,QAAQC,QAAQ,eAM1B7H,EAAM4H,QAAQC,QAAQ,YAM5B,IACFlH,qBAAU,WAGN,OAFG0G,EAAWa,SACVd,GAAQ,GACL,eAER,CAACC,IACJ1G,qBAAU,WACa,IAAhBH,EAAKmG,OACJ6C,EAAO,EAEPA,IAEJhI,EAAUhB,EACV2D,EAAa,YAAI3D,MACnB,CAACA,IACH,IAAIwE,EAAU,SAACwE,GAGX,OAFAE,GAAa,GACbhI,GAAW,GACJrD,EAAoB,CACvByJ,IAAKT,EAAWU,SACjB1F,MAAK,SAAAC,GAIJjE,EAAiB,CACbyD,IAAIQ,EAAIpF,KAAK4E,IAAI6H,MAAM,GAAKH,EAAM,GAAKA,EAAO,GAAGxB,KAAK,OACvD3F,MAAK,SAAA4F,GAEJ,GAAsB,MAAnBA,EAAK/K,KAAKC,KAAa,CACtB,IAAIoI,EAAM/D,EAAQgE,OAAOyC,EAAK/K,KAAKoI,OACnCpB,EAAQqB,GAEZ7D,GAAW,UAIvB,OACI,qCACI,cAAC,IAAD,CAAQkI,KAAK,GAAGC,OAAQ,WAChB7J,EAAM4H,QAAQkC,IAAI,IAD1B,kDAMA,cAAC,IAAD,CAAMvD,QAAS7B,EAAf,SACI,qBAAKtE,UAAU,iBAAf,SACMsE,GAAW,cAAC,IAAD,CAAazF,MAAO,CAAE,SAAU,QAAUiE,MAAM,gBAGpEiE,GAAY,mCAGT,sBAAKlI,MAAO,CAACqB,OAAO,OAAO6H,QAAQ,IAAIC,OAAO,KAAMC,SAAS,UAA7D,UACI,cAACtI,EAAD,CACIE,SAAU,WACN+E,EAAQwE,IAEZvK,MAAO,CAACqB,OAAO,QACfH,GAAG,YACHC,UAAU,OANd,SASII,EAAKiF,KAAI,SAAChE,EAAMiE,GACZ,OAAG5D,EAAI3C,SAASsC,EAAKtB,IAAY,KAE7B,cAAC,EAAD,CAAsB2B,IAAKA,EAAKD,OAAUA,EAAQJ,KAAMA,EAAMG,MAAM,EAAMF,WAAcA,GAAvEgE,QAK7B,cAAC,IAAD,CACIzG,MAAO,CACH,4BAA6B,OAC7B,2BAA4B,QAG9BmD,QAAS,WACLnB,QAAQC,IAAI,gBACZnC,SAASgL,eAAe,aAAaC,SAAS,CAC1CC,IAAI,EACJC,SAAS,YAVvB,6B,OCnGpB,SAASC,EAAQnK,GAAO,IAAD,IACboK,EAAsDpK,EAAtDoK,MAAOxJ,EAA+CZ,EAA/CY,QAASwB,EAAsCpC,EAAtCoC,QAASnD,EAA6Be,EAA7Bf,MAAOoL,EAAsBrK,EAAtBqK,SAAUC,EAAYtK,EAAZsK,QAChD,EAAkCjK,mBAAS,MAA3C,mBAAKkK,EAAL,KAAiBC,EAAjB,KACA,EAA6BnK,mBAAS,GAAtC,mBAAKoK,EAAL,KAAiBC,EAAjB,KACA,EAAiCrK,mBAAS,GAA1C,mBAAKsK,EAAL,KAAmBC,EAAnB,KAEA,EAAsBvK,oBAAS,GAA/B,mBAAWwK,GAAX,WACA,EAAsBxK,mBAAS,MAA/B,mBAAKyK,EAAL,KAAWC,EAAX,KAwBA,OAvBApK,qBAAU,WAmBN+J,EAASN,GACTQ,EAAWhK,KAfb,IAEFD,qBAAU,WAEN6J,EAAc,GAAD,OAAKG,EAAaF,EAAY,IAA9B,MACbM,EAAQ,GAAD,OAAKJ,EAAaF,EAAY,IAAM,GAApC,QACT,CAACE,EAAcF,IACjB9J,qBAAU,WACNiK,EAAWhK,GACX8J,EAASN,KAEV,CAACA,EAAMxJ,IAOH,sBAAKR,UAAU,UAAf,UACMiK,GAAW,qBAAKjK,UAAU,OAAOnB,MAAOA,EAA7B,oBACJ,UAAAK,EAAcqL,UAAd,eAA6BzL,MAAM,KAAK,KAAK,WADzC,eACyD,oBAAGI,EAAc8K,WAAjB,eAA2BlL,MAAM,KAAK,KAAK,cAEhH,sBAAKkB,UAAU,QACP4K,YAAa,SAACtM,GACV,IAAI4L,EAAQ,CACR,IAEIW,GAFIvM,EAAEwM,QAAUxM,EAAEyM,cAAcC,wBAAwBC,MAChD3M,EAAEyM,cAAcG,YAEzBL,EAAM,IAAGA,EAAM,GACfA,EAAM,IAAGA,EAAM,GAClBL,EAAWR,EAAMa,GACjBJ,GAAQ,GACLzI,GACCA,EAAQgI,EAAMa,EAAKvM,KAG/B6M,UAAW,WACHjB,GACAO,GAAQ,IAhBxB,UA6BA,qBAAKzK,UAAU,UAAUgC,QAAS,kBAAI,GAAOnD,MAAO,CAACoC,MAAMkJ,KAC3D,qBAAKnK,UAAU,OACXnB,MAAO,CAACoM,KAAKP,WAmBjCX,EAAQqB,aAAe,CACnBpB,MAAO,EACPxJ,QAAS,EACTyJ,UAAS,EACTC,SAAQ,GAEGH,Q,OCzFf,SAASsB,EAAMzL,GACX,IAAM0D,EAA8E1D,EAA9E0D,IAAKgI,EAAyE1L,EAAzE0L,SAAUC,EAA+D3L,EAA/D2L,SAAUC,EAAqD5L,EAArD4L,KAAMlF,EAA+C1G,EAA/C0G,MAAOmF,EAAwC7L,EAAxC6L,OAAQC,EAAgC9L,EAAhC8L,YAAaC,EAAmB/L,EAAnB+L,MAAO3J,EAAYpC,EAAZoC,QAClE4J,EAAQvL,iBAAO,MACrB,EAA4BJ,mBAAS,GAArC,mBAAKO,EAAL,KAAcgK,EAAd,KACA,EAAwBvK,mBAAS,IAAjC,mBAAK+J,EAAL,KAAYM,EAAZ,KACA,EAAiE3I,qBAAW/F,GAAtEiQ,EAAN,EAAMA,eAAgBC,EAAtB,EAAsBA,aAAcC,EAApC,EAAoCA,eAAgBC,EAApD,EAAoDA,SACpD,EAAsB/L,oBAAS,GAA/B,mBAAKgM,EAAL,KAAWC,EAAX,KA2DA,OA1DAb,EAAMc,KAAO,SAACC,GAEVR,EAAMpL,QAAQ6L,YAAcD,EAC5BP,EAAeO,GACf5B,EAAW4B,IAEf7L,qBAAU,WAkCN,OAjCGqL,EAAMpL,UACL6K,EAAM7K,QAAUoL,EAAMpL,QACtBoL,EAAMpL,QAAQ8L,iBAAmB,WAC7BzL,QAAQC,IAAI,4BACZuK,EAAMkB,aAAc,EACpBP,EAAS,IAEbJ,EAAMpL,QAAQgM,UAAY,WAAK,IAAD,EAC1B3L,QAAQC,IAAI,sEAEZ,UAAA8K,EAAMpL,eAAN,SAAeyL,QAEnBL,EAAMpL,QAAQiM,aAAe,WAAK,IAAD,IAC7BjC,EAAU,UAACoB,EAAMpL,eAAP,aAAC,EAAe6L,aAC1BR,EAAc,UAACD,EAAMpL,eAAP,aAAC,EAAe6L,cAElCT,EAAMpL,QAAQkM,QAAU,WACpB7L,QAAQC,IAAI,gBACZoL,GAAQ,GACRH,GAAe,IAEnBH,EAAMpL,QAAQmM,OAAS,WAAK,IAAD,MACvB9L,QAAQC,IAAI,eAAZ,UAAiB8K,EAAMpL,eAAvB,aAAiB,EAAeoM,UAChCV,GAAQ,GACRH,GAAe,GACfzB,EAAQ,UAACsB,EAAMpL,eAAP,aAAC,EAAeoM,UACxBd,EAAY,UAACF,EAAMpL,eAAP,aAAC,EAAeoM,UAC5BvB,EAAMkB,aAAc,IAMrB,eAGT,IACFhM,qBAAU,WAEN,OAAO,eAGT,CAAC+C,IACH/C,qBAAU,WAAK,IAAD,EACgB,OAAvB,UAACqL,EAAMpL,eAAP,aAAC,EAAeqM,UACf,UAAAjB,EAAMpL,eAAN,SAAeyL,OACf3B,EAAQ,UAACsB,EAAMpL,eAAP,aAAC,EAAeoM,UACxBd,EAAY,UAACF,EAAMpL,eAAP,aAAC,EAAeoM,aAGlC,CAACpM,IAEC,sBAAKR,UAAU,QAAQgC,QAAS,WAEzBA,GACCA,KAHR,UAKI,qBAAKhC,UAAU,YAAf,SACKyL,GAAU,qBAAK9F,IAAI,GAAGrC,IAAKmI,MAEhC,sBAAKzL,UAAU,aAAf,UACA,sBAAKA,UAAU,eAAf,UACI,cAAC,IAAD,CACI9C,QAASoJ,EAAMxH,MAAM,KAAK,GAC1BD,MAAO,CACHkJ,QAAS,IACTjF,MAAO,QACPgK,UAAW,aACXC,WAAY,qBACZC,OAAQ,OACR9M,OAAQ,QAEZ+M,KAAM,+BAEV,cAAC,IAAD,CAAUtJ,UAAU,MAAMzG,QAASoJ,EAAMxH,MAAM,KAAK,GAAID,MAAO,CAACqO,YAAY,YAEhF,sBAAKlN,UAAU,UAAf,UACK0L,GAAe,cAAC,EAAD,CACZ1B,MAAOA,EACPxJ,QAASA,EACTwB,QAAS,SAACxB,GACNoL,EAAMpL,QAAQ6L,YAAc7L,EAC5BoL,EAAMpL,QAAQyL,UAGrBV,GAAU,sBAAKvL,UAAU,WAAf,UAaP,cAAC,IAAD,CAAQnB,MAAO,CAACsK,aAAa,SAAUnH,QAAS,SAAC1D,GAC7CA,EAAEyE,kBACG6I,EAAMpL,UACHoL,EAAMpL,QAAQqM,OAIdjB,EAAMpL,QAAQyL,OAHdL,EAAMpL,QAAQ2M,UAJ1B,SAUG,mBACCnN,UAAS,mBAAciM,EAAK,cAAc,oBAG7CT,GAAQ,cAAC,IAAD,CAAQ3M,MAAO,CAACsK,aAAa,SAC9BnH,QAAS,SAAC1D,GACNA,EAAEyE,kBACCyI,GACCA,KAJP,SAKE,mBACHxL,UAAU,oCAI1B,uBACIgB,IAAK4K,EACL7L,GAAG,QACHuD,IAAKA,EACLgI,SAAUA,EACV8B,QAAS,WACLvM,QAAQC,IAAI,4BACZuK,EAAMkB,aAAc,EACjBZ,GACCA,aAnJxBN,EAAMkB,aAAc,EACpBlB,EAAM7K,QAAU,KAmKhB6K,EAAMD,aAAe,CACjBiC,SAAU,GACV/J,IAAK,GACLgI,UAAU,EACVC,UAAU,EACVC,KAAM,aACNC,OAAO,IAEIJ,ICpJgBiC,GDoJhBjC,K,4DChKTkC,GAAO,CACX,CACEhM,IAAK,QACL+E,MAAO,eACP2G,KAAM,cAACO,GAAA,EAAD,KAER,CACEjM,IAAK,kBACL+E,MAAO,2BACP2G,KAAM,cAACQ,GAAA,EAAD,MAGNC,GAAU,GAAIC,IAAU,EAwZbC,ICpbXC,GDobWD,GAvZf,SAAahO,GACX,IACMkO,EADWC,eACXD,SACN,EAAoB7N,mBAAS,IAA7B,mBAAKmC,EAAL,KAAUR,EAAV,KACA,EAAwB3B,mBAAS,gBAAjC,mBAAKqG,EAAL,KAAYxE,EAAZ,KACA,EAA0B7B,oBAAS,GAAnC,mBAAKwL,EAAL,KAAa5J,EAAb,KAEA,EAAsB5B,mBAAS,IAA/B,mBAAW+N,GAAX,WACA,EAAgC/N,mBAAS,IAAzC,mBAAKgO,EAAL,KAAgBlK,EAAhB,KACA,EAAkB9D,oBAAU,GAA5B,mBAAKF,EAAL,KAASgC,EAAT,KACA,EAA4B9B,oBAAS,GAArC,mBAAKkG,EAAL,KAAc+H,EAAd,KACA,EAAiCjO,mBAAS,IAA1C,mBAAKkO,EAAL,KAAmBC,EAAnB,KACA,EAAoCnO,qBAApC,mBAAKoM,EAAL,KAAkBR,EAAlB,KACA,EAAkC5L,mBAAS,YAA3C,mBAAKoO,GAAL,KAAiBC,GAAjB,KACA,GAAwBrO,oBAAU,GAAlC,qBAAKsO,GAAL,MAAYvC,GAAZ,MACA,GAA0B/L,oBAAS,GAAnC,qBAAKuO,GAAL,MAAaC,GAAb,MACA,GAAoBxO,mBAAS,WAA7B,qBAAKsB,GAAL,MAAUmN,GAAV,MACA,GAA4BzO,mBAAS,GAArC,qBAAK+J,GAAL,MAAY8B,GAAZ,MACA,GAAoC7L,oBAAS,GAA7C,qBAAK0O,GAAL,MAAkB5C,GAAlB,MACA,GAA4B9L,mBAAoB,UAAX6N,GAArC,qBAAKc,GAAL,MAAcC,GAAd,MACA,GAA+B5O,mBAAS,IAAxC,qBAAK6O,GAAL,MAAeC,GAAf,MACA,GAAwB9O,mBAAS,IAAjC,qBAAK+O,GAAL,MAAYC,GAAZ,MACA,GAAsBhP,oBAAS,GAA/B,qBAAKiP,GAAL,MAAWC,GAAX,MACA,GAA0BlP,oBAAS,GAAnC,qBAAKmP,GAAL,MAAaC,GAAb,MACA9O,qBAAU,WAaR,OAZAgF,OAAO+J,aAAe,SAAChR,GACrBuC,QAAQC,IAAIyE,OAAOgK,SAASC,MAC5B,IAAIA,EAAOjK,OAAOgK,SAASC,KAEzBX,GADU,WAATW,GAA8B,qBAATA,IASnB,eACP,IACFjP,qBAAU,WACR+M,GAAWnH,IAcX,CAACA,IACH5F,qBAAU,WAERtC,EAAiB,CACf8B,OACCkC,MAAK,SAAAC,GAAM,IAAD,MAIe,IAFtBhF,EAAO,UAAGgF,EAAIpF,KAAK2S,WAAZ,iBAAG,EAAcC,aAAjB,aAAG,EAAqBjI,QAAQ,QAAS,SAAS3I,MAAM,SAAS6Q,QAAO,SAAA3Q,GAAG,OAAEA,EAAIuH,OAAS,OACrG6H,EAAWlR,GACX,UAAGgF,EAAIpF,KAAK8S,cAAZ,aAAG,EAAiBF,QAClBxS,EAAO,UAAGgF,EAAIpF,KAAK8S,cAAZ,iBAAG,EAAiBF,aAApB,aAAG,EAAwBjI,QAAQ,QAAS,SAAS3I,MAAM,SAClEiQ,GAAa7R,GACbiS,IAAQ,IAERA,IAAQ,GAEVnD,GAAS,QAEX,CAAC5J,IACL7B,qBAAU,WAAK,IAAD,EACZM,QAAQC,IAAIqN,GACZnC,GAAS,GACT0B,GAAU,GACV,UAAA/O,SAASgL,eAAe,oBAAxB,SAAsCC,SAAS,CAC7CC,IAAK,EACLC,SAAU,WAMA,OAAZqE,QAAY,IAAZA,KAAc0B,SAAQ,SAAA7Q,GACjBA,EAAIF,MAAM,KAAK,IAChB4O,GAAQ1K,KAAKhE,EAAIF,MAAM,KAAK,GAAGA,MAAM,KAAK,YAG5BgR,IAAfpC,GAAQ,GACTe,IAAU,GAGVA,IAAU,KAEZ,CAACN,IACH5N,qBAAU,WACR,IAAIwP,EAAM,GACVjB,GAAUzJ,KAAI,SAACrG,EAAKsG,GAClB,IAAI/D,EAAMvC,EAAIF,MAAM,KAAK,GAAGA,MAAM,KAAK,GACnCK,EAAQH,EAAIF,MAAM,KAAK,GAC3BiR,EAAIxO,GAAOpC,EAAQ,QAAUmG,KAE/B2J,GAAS,eAAIc,MACb,CAACjB,KACHvO,qBAAU,WACRM,QAAQC,IAAIkO,MACZ,CAACA,KACHzO,qBAAU,WAAO,IAAD,MACVyP,GAAU,UAAAhB,GAAMtB,GAAQa,YAAd,eAAuBzP,MAAM,SAAS,KAAG,UAAAkQ,GAAMtB,GAAQa,YAAd,eAAuBzP,MAAM,SAAS,IAAG,EAAE,EAClG,UAAAH,SAASgL,eAAe,oBAAxB,SAAsCC,SAAS,CAC7CC,IAAKuF,GAAqC,IAA1Bb,GAAQ,EAAMyB,GAAiB,IAAmB,IAAbzB,GAAQ,GAC7DzE,SAAU,aAEX,CAACsF,KACF7O,qBAAU,WAEL+M,IACDgB,GAAcpP,EAAcmN,MAC9B,CAACA,IACH9L,qBAAU,WAER,IAAK,IAAI+E,EAAMqI,GAAQY,GAAQb,GAAQnH,OAAQjB,IAE7C,GAAG,aAAMoI,GAAQpI,EAAM,KAAQ+I,GAAW,CACxCrC,GAAS1G,GACT,SAGJ,CAAC+I,KACH9N,qBAAU,WAIR,GAFAM,QAAQC,IAAIyN,GAAQ,kBACpBZ,GAASY,GACNA,GAAQ,EAAE,CAAC,IAAD,MACPyB,GAAU,UAAAhB,GAAMtB,GAAQa,YAAd,eAAuBzP,MAAM,SAAS,KAAG,UAAAkQ,GAAMtB,GAAQa,YAAd,eAAuBzP,MAAM,SAAS,IAAG,EAAE,EAClG,UAAAH,SAASgL,eAAe,oBAAxB,SAAsCC,SAAS,CAC7CC,IAAKuF,GAAqC,IAA1Bb,GAAQ,EAAMyB,GAAiB,IAAmB,IAAbzB,GAAQ,GAC7DzE,SAAU,eAET,CAAC,IAAD,EACH,UAAAnL,SAASgL,eAAe,oBAAxB,SAAsCC,SAAS,CAC7CC,IAAK,EACLC,SAAU,cAId,CAACyE,KACHhO,qBAAU,WAGR,GAFAM,QAAQC,IAAIyN,GAAQ,kBACpBZ,GAASY,GACNA,GAAQ,EAAE,CAAC,IAAD,MACPyB,GAAU,UAAAhB,GAAMtB,GAAQa,YAAd,eAAuBzP,MAAM,SAAS,KAAG,UAAAkQ,GAAMtB,GAAQa,YAAd,eAAuBzP,MAAM,SAAS,IAAG,EAAE,EAClG,UAAAH,SAASgL,eAAe,oBAAxB,SAAsCC,SAAS,CAC7CC,IAAKuF,GAAqC,IAA1Bb,GAAQ,EAAMyB,GAAiB,IAAmB,IAAbzB,GAAQ,GAC7DzE,SAAU,eAET,CAAC,IAAD,EACH,UAAAnL,SAASgL,eAAe,oBAAxB,SAAsCC,SAAS,CAC7CC,IAAK,EACLC,SAAU,WAGd,OAAO,eAGN,CAACvI,KACJ,IAAI0O,GAAW,WACb,IAAI9I,EAAU8G,EAAU1H,OACpBjB,EAAM4K,KAAKC,MAAMhJ,EAAU+I,KAAKE,UACpCnS,EAAmB,CACf8B,GAAGkO,EAAU3I,GAAKvF,KACnBkC,MAAK,SAAAoO,GAEJpS,EAAoB,CAChB8B,GAAKkO,EAAU3I,GAAKvF,KACrBkC,MAAK,SAAAC,GACJH,EAAMkM,EAAU3I,GAAKvF,IACrB6B,EAAOM,EAAIpF,KAAKA,KAAK,GAAGsF,KACxBP,EAAUoM,EAAU3I,GAAKjD,GAAGC,QAC5BR,EAASmM,EAAU3I,GAAK/C,KAAO,IAAM0L,EAAU3I,GAAK9C,GAAG,GAAGD,YAE/DI,OAAM,SAAAjG,GACP+F,IAAMC,KAAK,8DAGf,OACE,qBAAK1C,UAAU,MAAf,SACE,eAACpE,EAAQ0U,SAAT,CAAkBnR,MAAO,CACvBiD,MAAKR,SAAQE,WAAUD,YAAWmM,UAASjK,eAAchC,QAAOhC,KAAIqO,aAAYvC,iBAAgBC,gBAAcC,kBAAgBC,aADhI,UAGE,qBAAKhM,UAAS,OAAd,SACI,eAAC,KAAD,WACE,cAAC,KAAD,CAAOzC,KAAM,QAASgT,UAAW1M,EAAM2M,OAAK,IAC5C,cAAC,KAAD,CAAOjT,KAAM,kBAAmBgT,UAAWzJ,EAAQ0J,OAAK,IACxD,cAAC,KAAD,CAAOjT,KAAM,QAASgT,UAAWlH,EAAOmH,OAAK,IAC7C,cAAC,KAAD,CAAOjT,KAAM,UAAWgT,UAAWE,KAAQD,OAAK,IAChD,cAAC,KAAD,CAAUE,GAAI,eAGpB,cAAC,GAAD,CACEpK,MAASA,EACThD,IAAOlB,EACPsJ,aAAa,EACbD,OAAUA,EACVE,MAAS,WACPsE,MAEFzE,KAAM,WACJyE,MAEFjO,QAAS,WACPkM,GAAW,MAGbU,IAAW,cAAC,IAAD,CACXxI,UAAW0H,EACX/H,SAAU,SAAC5G,GACTS,EAAM4H,QAAQC,QAAd,UAAyBtI,KAHhB,SAMVoO,GAAKlI,KAAI,SAAAhE,GAAI,OACV,cAAC,IAAO+B,KAAR,CAEE6J,KAAM5L,EAAK4L,KACX3G,MAAOjF,EAAKiF,OAFPjF,EAAKE,UAMlB,cAAC,IAAD,CACE4E,QAASA,EACTnG,UAAW,QACX2Q,YAAa,WACXzC,GAAW,IAEb0C,UAAW,CACT1Q,OAAQ,SAPZ,SAUE,eAAC,IAAD,CAAM6F,SAAU,SAACxE,GAAOmN,GAAOnN,IAAO6E,UAAW7E,GAAjD,UACE,cAAC,IAAK8E,IAAN,CAAUC,MAAO,eAAjB,SACE,sBAAKvG,GAAG,UAAUlB,MAAO,CAAEgS,SAAS,WAAY3Q,OAAQ,OAAQ4Q,UAAU,UAA1E,UACE,cAAC,IAAD,CAAQC,KAAK,OAAOlS,MAAO,CAACgS,SAAS,QAAQhH,IAAI,EAAGmH,MAAM,GAAIhP,QAAS,WACrEkM,GAAW,IADb,SAGE,cAAC+C,GAAA,EAAD,MAEF,eAAC,IAAD,CAAM/N,QAAS,EAAGC,IAAK,GAAvB,UACI,cAAC,IAAKC,KAAN,CAAWpB,QAAS,WAChB0M,GAAO,aACNrL,KAAM,EAAIxE,MAAO,CAACkJ,QAAQ,QAF/B,SAGE,cAAC,IAAD,CAAQ/H,UAAS,sBAAiB2O,GAAc,8BAA+B,yBAA2BrL,IAAKmI,EAAQ5M,MAAO,CAACoC,MAAM,YAEvI,eAAC,IAAKmC,KAAN,CAAWC,KAAM,EAAIxE,MAAO,CAACkJ,QAAQ,QAArC,UACE,cAAC,IAAD,CAAS/H,UAAU,gBAAgBnB,MAAO,CAACH,SAAS,QAApD,SAA6D,sBAAMsD,QAAS,WAC9C,WAAzBuD,OAAOgK,SAASC,OAGlBtB,GAAW,GACXrK,EAAKgC,OAAOS,EAAMxH,MAAM,KAAK,MAL6B,SAO3D,cAAC,IAAD,CACE5B,QAASoJ,EAAMxH,MAAM,KAAK,GAC1BD,MAAO,CACHkJ,QAAS,IACTjF,MAAO,QACPgK,UAAW,aACXE,OAAQ,OACR9M,OAAQ1B,EAAO,QACfE,SAASF,EAAO,QAChBuO,WAAW,QACXmE,KAAM,IACNxN,eAAe,UAGnBuJ,KAAM,mCAEV,cAAC,IAAD,CAASpO,MAAO,CAACH,SAAS,QAA1B,SAAmC,sBAAMsD,QAAS,WACnB,WAAzBuD,OAAOgK,SAASC,OAGnBtB,GAAW,GACXrK,EAAKgC,OAAOS,EAAMxH,MAAM,KAAK,MALG,SAO9BwH,EAAMxH,MAAM,KAAK,UAGxB,cAAC,IAAKsE,KAAN,CAAWC,KAAM,EAAGxE,MAAO,CAACkJ,QAAQ,QAApC,SACE,cAAC,EAAD,CACIiC,MAAOA,GACPxJ,QAAS6L,EACTrK,QAAS,SAACxB,GACN6K,GAAMc,KAAK3L,QAIrB,cAAC,IAAK4C,KAAN,CAAWC,KAAM,EAAGxE,MAAO,CAACsS,UAAU,SAAtC,SACE,cAAC,IAAD,CAAStS,MAAO,CAACsK,aAAa,QAASlI,MAAM,OAAQf,OAAO,OAAQkR,UAAU,kBAClEpP,QAAS,SAAC1D,GACNA,EAAEyE,kBACFN,IAAMC,KAAK,uBAH3B,SAIe,mBACH7D,MAAO,CAACH,SAASF,EAAO,SACxBwB,UAAU,gCAIxB,cAAC,IAAKoD,KAAN,CAAWC,KAAM,EAAGxE,MAAO,CAACsS,UAAU,UAAtC,SACE,cAAC,IAAD,CAAQtS,MAAO,CAACsK,aAAa,QAASlI,MAAM,OAAOf,OAAO,QAAS8B,QAAS,SAAC1D,GACzEA,EAAEyE,kBACCsI,GAAM7K,QAAQqM,OACfxB,GAAM7K,QAAQyL,OAEdZ,GAAM7K,QAAQ2M,SALpB,SAOG,mBACCtO,MAAO,CAACH,SAASF,EAAO,SACxBwB,UAAS,mBAAc2O,GAAY,cAAc,sBAIvD,cAAC,IAAKvL,KAAN,CAAWC,KAAM,EAAjB,SACE,cAAC,IAAD,CAAQxE,MAAO,CAACsK,aAAa,QAASlI,MAAM,OAAQf,OAAO,QAC/C8B,QAAS,SAAC1D,GACNA,EAAEyE,kBACFkN,MAHhB,SAIe,mBACHpR,MAAO,CAACH,SAASF,EAAO,SACxBwB,UAAU,uCAxFJ,WA+F5B,cAAC,IAAKqG,IAAN,CAAUC,MAAO,eAAjB,SACE,sBAAKvG,GAAG,YAAYlB,MAAO,CAAEgS,SAAS,WAAY3Q,OAAQ,OAAQ4Q,UAAW,UAA7E,UACA,cAAC,IAAD,CAAQC,KAAK,OAAOlS,MAAO,CAACgS,SAAS,QAAQhH,IAAI,EAAGmH,MAAM,GAAIhP,QAAS,WACrEkM,GAAW,IADb,SAGE,cAAC+C,GAAA,EAAD,MAEJ,cAAC,IAAD,mFACEzC,IAAkC,IAAxBL,EAAa5H,SAAiB,cAAC,IAAD,yFAPxC,OASE4H,QATF,IASEA,OATF,EASEA,EAAc9I,KAAI,SAACrG,EAAKsG,GAAO,IAAD,EAC5B,OACE,sBAAKtD,QAAS,WAIZ,IAAIwM,KAAWnD,GAAMkB,YAAY,CAC/B,GAA2B,IAAxB4B,EAAa5H,OACd,OAEFyF,GAAS1G,GACT+F,GAAMc,KAAN,UAA2C,GAA7BuB,GAAQpI,GAAKxG,MAAM,KAAK,GAAuC,EAA7B4O,GAAQpI,GAAKxG,MAAM,KAAK,OAT5E,WAYIE,EAAIF,MAAM,KAAK,IAAM,cAAC,IAAD,CACrBiB,GAAE,iBAAYuF,GACdtF,UAAS,UAAKuO,KAAQjJ,EAAI,gBAAgB,WAC1CzG,MAAO,CAACwS,QAAQ,IAAKnR,OAAO,SAE7BlB,EAAIF,MAAM,KAAK,IAAM,cAAC,IAAD,CACpBiB,GAAE,iBAAYuF,GACdtF,UAAS,UAAKuO,KAAQjJ,EAAI,gBAAgB,WAFtB,SAIlBkJ,GAA6BxP,EAApBA,EAAIF,MAAM,KAAK,KAGzBsQ,KAAM,UAAIJ,GAAMtB,GAAQpI,WAAlB,aAAI,EAAqBxG,MAAM,SAAS,KAAQ,eAAC,IAAD,CACrDiB,GAAE,iBAAYuF,GACdtF,UAAS,UAAKuO,KAAQjJ,EAAI,kBAAkB,WAFS,UAIrD,4CAJqD,IAInC,IAAM0J,GAAMtB,GAAQpI,IAAMxG,MAAM,SAAS,YAQrEoQ,IAAQ,cAAC,IAAD,CACRrQ,MAAO,CACH,4BAA6B,OAC7B,2BAA4B,QAG9BmD,QAAS,WACPqN,IAAWD,KAPP,oBAYV,qBAAKvQ,MAAO,CAACqB,OAAO,OAAQe,MAAM,cA5DR,uBEpWzBqQ,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBvP,MAAK,YAAkD,IAA/CwP,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,0BD+KCO,OAlLf,SAAelS,GACX,MAAemS,IAAKC,UAAbC,EAAP,oBACA,EAA6BhS,oBAAS,GAAtC,mBAAKiS,EAAL,KAAeC,EAAf,KACA,EAAsBlS,mBAAS,GAA/B,mBAAKmM,EAAL,KAAWgG,EAAX,KAaA,SAASC,EAAWC,EAAMnT,EAAO0F,GAC7B,GAAI1F,IAAUA,EAAMoT,MAAM,iFAGtB,OAFAJ,GAAW,QACXtN,EAAS,0DAGbsN,GAAW,GACXtN,IAEJ,OArBAtE,qBAAU,WAKN,OAJAiS,cAAc3E,IACdA,GAAQ4E,aAAY,WAChBL,EAAQhG,EAAO,KACjB,KACK,eAGR,CAACA,IAaI,qCACI,cAAC,IAAD,CACIvN,MAAO,CAACkO,WAAW,QAAQ2F,UAAW,mCACtClJ,KAAK,GACLmJ,WAAW,EACX3B,MAAO,mCACH,cAAC,IAAD,CACIhP,QAAS,WAlB7BpC,EAAM4H,QAAQC,QAAQ,UAqBFsJ,KAAK,OAJT,4BALR,0BAeA,eAAC,IAAD,CAAMhL,SAAU,SAAC5G,GACb0B,QAAQC,IAAI3B,IADhB,UAGI,cAAC,IAAKkH,IAAN,CAAUC,MAAM,2BAAhB,SACI,eAAC,IAAD,CACAsM,OAAO,aACPX,KAAMA,EAENY,OACI,qCACI,cAAC,IAAD,CAAQ7Q,QAAS,WACbiQ,EAAKa,iBAAiB7Q,MAAK,SAAC8Q,EAAOrW,GAC3BA,GACAuB,EAAqBgU,EAAKe,kBAAkB/Q,MAAK,SAAAC,GACxB,MAAlBA,EAAIpF,KAAKC,OACRR,aAAa0W,QAAQ,QAAQ/Q,EAAIpF,KAAKR,OACtCC,aAAa0W,QAAQ,WAAW5L,KAAK6L,UAAUhR,EAAIpF,KAAKgL,UACxDvL,aAAa0W,QAAQ,SAAS5L,KAAK6L,UAAUhR,EAAIpF,KAAKY,SACtDiB,SAASjB,OAASwE,EAAIpF,KAAKY,OAC3BnB,aAAa0W,QAAQ,UAAU5L,KAAK6L,UAAUhR,EAAIpF,KAAKqW,UACvDvT,EAAM4H,QAAQC,QAAQ,iBAKvCoB,OAAK,EAAC/F,MAAM,UAAU8F,KAAK,QAf9B,0BAgBA,cAAC,IAAKxF,KAAN,CAAWvE,MAAO,CAACqB,OAAO,UAC1B,cAAC,IAAD,CAAQ2I,OAAK,EAAED,KAAK,QAAQ5G,QAAS,WACjCpC,EAAM4H,QAAQC,QAAQ,YAD1B,6BAvBR,UA4BI,cAAC,IAAKrE,KAAN,CACIgQ,MAAM,qBACNL,MAAO,CACH,CAAEM,UAAU,EAAMlW,QAAS,wCAC3B,CAAEmW,UAAWjB,IAEjB9P,KAAK,QANT,SAQI,cAAC,IAAD,CAAOuD,YAAY,uCAASC,SAAU,iBAI1C,cAAC,IAAK3C,KAAN,CACIgQ,MAAM,eACNL,MAAO,CAAC,CAAEM,UAAU,EAAMlW,QAAS,mCACnCoF,KAAK,WAHT,SAKI,cAAC,IAAD,CAAOuD,YAAY,iCAAQf,KAAM,WAAYgB,SAAU,qBA9CxC,YAoD3B,cAAC,IAAKM,IAAN,CAAUC,MAAM,iCAAhB,SACA,eAAC,IAAD,CACIsM,OAAO,aACPX,KAAMA,EAENY,OACI,qCACI,cAAC,IAAD,CAAQ7Q,QAAS,WACbiQ,EAAKa,iBAAiB7Q,MAAK,SAAC8Q,EAAOrW,GAC3BA,GACAuB,EAAkB,CACdsV,MAAMtB,EAAKuB,cAAc,SACzBC,QAAQxB,EAAKuB,cAAc,aAC5BvR,MAAK,SAAAC,GAAM,IAAD,GAET,UAAGA,EAAIpF,YAAP,aAAG,EAAUA,QACTmB,EAAqB,CACjBsV,MAAMtB,EAAKuB,cAAc,SACzBC,QAAQxB,EAAKuB,cAAc,aAC5BvR,MAAK,SAAAC,GACiB,MAAlBA,EAAIpF,KAAKC,OACRR,aAAa0W,QAAQ,QAAQ/Q,EAAIpF,KAAKR,OACtCC,aAAa0W,QAAQ,WAAW5L,KAAK6L,UAAUhR,EAAIpF,KAAKgL,UACxDvL,aAAa0W,QAAQ,SAAS5L,KAAK6L,UAAUhR,EAAIpF,KAAKY,SACtDnB,aAAa0W,QAAQ,UAAU5L,KAAK6L,UAAUhR,EAAIpF,KAAKqW,UACvDxU,SAASjB,OAASwE,EAAIpF,KAAKY,WAGnCkC,EAAM4H,QAAQC,QAAQ,iBAKvCoB,OAAK,EAAC/F,MAAM,UAAU8F,KAAK,QA1B9B,0BA2BA,cAAC,IAAKxF,KAAN,CAAWvE,MAAO,CAACqB,OAAO,UAC1B,cAAC,IAAD,CAAQ2I,OAAK,EAAED,KAAK,QAAQ5G,QAAS,WACjCpC,EAAM4H,QAAQC,QAAQ,YAD1B,6BAlCZ,UAuCQ,cAAC,IAAKrE,KAAN,CACIgQ,MAAM,qBACNL,MAAO,CACH,CAAEM,UAAU,EAAMlW,QAAS,wCAC3B,CAAEmW,UAAWjB,IAEjB9P,KAAK,QANT,SAQI,cAAC,IAAD,CAAOuD,YAAY,uCAASC,SAAU,iBAI1C,cAAC,IAAK3C,KAAN,CACIgQ,MAAM,iCACNL,MAAO,CAAC,CAAEM,UAAU,EAAMlW,QAAS,yCACnCoF,KAAK,UACLmR,MACI,eAAC,IAAD,CAAQ5Q,MAAM,UAAUoP,SAAUA,EAAUnB,KAAK,OAAO/O,QAAS,SAAC1D,GAC9DL,EAAiB,CACbsV,MAAOtB,EAAKuB,cAAc,WAC3BvR,MAAK,SAAAC,GACDA,EAAIpF,KAAKA,MACRqV,GAAW,GACXC,EAAQ,KAER3P,IAAMC,KAAK,gCARvB,2CAWS0J,EAAO,EAAP,WAAcA,EAAd,MAAuB,MAhBxC,SAmBI,cAAC,IAAD,CAAOuH,WAAS,EAAC7N,YAAY,uCAASf,KAAM,OAAQgB,SAAU,qBAvE9C,kBEjG5C6N,GAAW,GAsJAC,OArJf,SAAgBjU,GACZ,MAAemS,IAAKC,UAAbC,EAAP,oBACA,EAA6BhS,oBAAS,GAAtC,mBAAKiS,EAAL,KAAeC,EAAf,KACA,EAAsBlS,mBAAS,GAA/B,mBAAKmM,EAAL,KAAWgG,EAAX,KAHkB,4CAoBlB,WAA0BE,EAAMnT,EAAO0F,GAAvC,SAAApH,EAAA,0DACQ0B,GAAUA,EAAMoT,MAAM,iFAD9B,uBAEQJ,GAAW,GACXtN,EAAS,0DAHjB,8BAMO1F,EANP,iCAOwBlB,EAAmB,CAC/BsV,MAAMpU,IARlB,kBAUerC,KAAKgX,YAVpB,wBAYYrR,IAAMC,KAAK,8CACXyP,GAAW,GAbvB,2BAiBIA,GAAW,GACXtN,IAlBJ,6CApBkB,sBAwClB,OAAQ,qCACI,cAAC,IAAD,CAAQ2E,KAAK,GAAGmJ,WAAW,EAAO9T,MAAO,CAACkO,WAAW,QAAQ2F,UAAW,mCAAxE,0BAGA,eAAC,IAAD,CACIT,KAAMA,EACNW,OAAO,aAEPC,OACI,qCACI,cAAC,IAAD,CAAQ7Q,QAAS,WACbiQ,EAAKa,iBAAiB7Q,MAAK,SAAC8R,EAAQC,GAC7BD,GAIH9V,EAAkB,CACdsV,MAAMtB,EAAKuB,cAAc,SACzBC,QAAQxB,EAAKuB,cAAc,aAC5BvR,MAAK,SAAAC,GAAM,IAAD,GAET,UAAGA,EAAIpF,YAAP,aAAG,EAAUA,MAjDjD,WACI,IAAIU,EAASyU,EAAKe,iBAElB/U,EAAeT,GAAQyE,MAAK,SAAAC,GACxBrB,QAAQC,IAAIoB,EAAIpF,SA8CgBmX,GAEAxR,IAAMC,KAAK,yCAIxBmG,OAAK,EAAC/F,MAAM,UAAU8F,KAAK,QAlB9B,0BAmBA,cAAC,IAAKxF,KAAN,CAAWvE,MAAO,CAACqB,OAAO,UAC1B,cAAC,IAAD,CAAQ2I,OAAK,EAAED,KAAK,QAChB5G,QAAS,WACLpC,EAAM4H,QAAQC,QAAQ,WAF9B,yCA1BZ,UAiCI,cAAC,IAAKrE,KAAN,CACIgQ,MAAM,eACN7Q,KAAM,WACNwQ,MAAO,CACH,CAAEM,UAAU,EAAMlW,QAAS,yCAJnC,SAOI,cAAC,IAAD,CAAO2I,YAAY,iCAAQC,SAAU,iBAIzC,cAAC,IAAK3C,KAAN,CACIgQ,MAAM,qBACNL,MAAO,CACH,CAAEM,UAAU,EAAMlW,QAAS,8CAC3B,CAAEmW,UA5FR,kDA8FE/Q,KAAK,QANT,SAQI,cAAC,IAAD,CAAOuD,YAAY,uCAASC,SAAU,iBAI1C,cAAC,IAAK3C,KAAN,CACIgQ,MAAM,eACNL,MAAO,CAAC,CAAEM,UAAU,EAAMlW,QAAS,yCACnCoF,KAAK,WAHT,SAKI,cAAC,IAAD,CAAOwC,KAAM,WAAYe,YAAY,iCAAQC,SAAU,SAACzH,GACpDsV,GAAWtV,OAGnB,cAAC,IAAK8E,KAAN,CACIgQ,MAAM,2BACNL,MAAO,CACH,CAAEM,UAAU,EAAMlW,QAAS,wCAC3B,CAAEmW,UA7G1B,SAAuBhB,EAAMnT,EAAO0F,GAC7B1F,GACIA,IAAUyU,IACT/O,EAAS,kCAGjBA,OAyGgBtC,KAAK,YANT,SAQI,cAAC,IAAD,CAAOwC,KAAM,WAAYe,YAAY,iCAAQC,SAAU,iBAI3D,cAAC,IAAK3C,KAAN,CACIgQ,MAAM,iCACNL,MAAO,CAAC,CAAEM,UAAU,EAAMlW,QAAS,yCACnCoF,KAAK,UACLmR,MACI,eAAC,IAAD,CAAQ5Q,MAAM,UAAUoP,SAAUA,EAAUnB,KAAK,OAAO/O,QAAS,SAAC1D,GAE9DL,EAAiB,CACbsV,MAAOtB,EAAKuB,cAAc,WAC3BvR,MAAK,SAAAC,GACDA,EAAIpF,KAAKA,MACRqV,GAAW,GACXC,EAAQ,KAER3P,IAAMC,KAAK,gCATvB,2CAYS0J,EAAO,EAAP,WAAcA,EAAd,MAAuB,MAjBxC,SAoBI,cAAC,IAAD,CAAOuH,WAAS,EAAC7N,YAAY,uCAASf,KAAM,OAAQgB,SAAU,wBCvItFmO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,KAAD,UACE,eAAC,KAAD,WACE,cAAC,KAAD,CAAO7W,KAAM,SAAUgT,UAAWuB,GAAOtB,OAAK,IAC9C,cAAC,KAAD,CAAOjT,KAAM,UAAWgT,UAAWsD,GAAQrD,OAAK,IAChD,cAAC,KAAD,CAAOjT,KAAM,IAAKgT,UAAW3C,YAInCjP,SAASgL,eAAe,SAE1B2H,O","file":"static/js/main.f0a9f549.chunk.js","sourcesContent":["import { createContext } from 'react'\r\n\r\nlet context = createContext('')\r\n\r\nexport {\r\n    context\r\n  }","import { Modal } from 'antd-mobile'\r\nimport axios from 'axios'\r\n// let basePath = 'http://192.168.0.105:3000'\r\n// let basePath = 'http://192.168.53.64:3000'\r\nlet basePath = ''\r\n// let servicePath = ''\r\nlet instance = axios.create({\r\n    headers: {\r\n      'content-type': 'application/x-www-form-urlencoded'\r\n    }\r\n  })\r\n  // http request 拦截器\r\ninstance.interceptors.request.use(\r\n    config => {\r\n      const token = localStorage.getItem('token')\r\n      if (token ) { // 判断是否存在token，如果存在的话，则每个http header都加上token\r\n        config.headers.authorization = token  //请求头加上token\r\n      }\r\n      return config\r\n    },\r\n    err => {\r\n      return Promise.reject(err)\r\n    })\r\n// http response 拦截器\r\ninstance.interceptors.response.use(\r\n    response => {\r\n      //拦截响应，做统一处理 \r\n      // console.log(response)\r\n      if (response.data.code) {\r\n        switch (response.data.code) {\r\n          case 200:\r\n            // Toast.show('成功')\r\n            break\r\n          default:\r\n            // Toast.show(response.data.message)\r\n\r\n            Modal.alert({\r\n              content: response.data.message || response.data.msg ,\r\n            })\r\n            break\r\n        }\r\n      }\r\n      return response\r\n    },\r\n)\r\nlet http = {\r\n    get: async (path, params, cookie = false)=>{\r\n        params.timestamp = new Date().getTime()\r\n        if(!cookie)\r\n          params.cookie = encodeURIComponent(localStorage.getItem('cookie'))\r\n        return await instance.get(basePath + path, {\r\n            params,\r\n            withCredentials: true,\r\n        })\r\n    },\r\n    post: async (path, params, cookie = false)=>{\r\n        params.timestamp = new Date().getTime()\r\n        if(!cookie)\r\n          params.cookie = encodeURIComponent(localStorage.getItem('cookie'))\r\n        return await instance.post(basePath + path, {\r\n            params,\r\n            withCredentials: true,\r\n        }) \r\n    }\r\n}\r\n\r\nlet apiPath = {\r\n    loginByphone: params => http.get('/login/cellphone', params, true),// 手机号登录\r\n    sendCode: params => http.get('/captcha/sent', params, true), // 发送验证码\r\n    checkCode:params => http.get('/captcha/verify',params, true), // 检查验证码\r\n    getUserInfo:params => http.get('/user/detail', params), // 获取用户信息\r\n    getLikeList: params => http.get('/likelist', params), // 获取喜欢音乐列表\r\n    checkPhone: params => http.get('/cellphone/existence/check', params), // 检查电话是否注册\r\n    regist: params => http.get('/register/cellphone',params),// 注册\r\n    getSongs: params => http.get('/song/detail',params),// 获取歌曲详情\r\n    getSongsUrl:params => http.get('/song/url',params), // 获取歌曲Url ?id=33894312 /song/url?id=405998841,33894312\r\n    getBanner:params => http.get('/banner?type=2', params),// 获取轮播\r\n    checkMusic: params => http.get('/check/music', params), // 音乐是否可用\r\n    search: params => http.get('/search', params), // 搜索\r\n    cloudsearch:params => http.get('/cloudsearch',params),// 云搜\r\n    //type: 搜索类型；默认为 1 即单曲 , 取值意义 : 1: 单曲, 10: 专辑, 100: 歌手, 1000: 歌单, 1002: 用户, 1004: MV, 1006: 歌词, 1009: 电台, 1014: 视频, 1018:综合, 2000:声音(搜索声音返回字段格式会不一样)\r\n    getrecommendSongs:params => http.get('/recommend/songs', params),// 获取推荐歌曲\r\n    getLyric: params => http.get('/lyric', params),// 获取歌词\r\n    likeMusic: params => http.get('/like', params), // 喜欢、不喜欢音乐\r\n    logout: params => http.get('/logout', params), // 退出登录\r\n  }\r\nexport {\r\n    http, apiPath\r\n}","/* eslint-disable no-useless-escape */\r\nimport { Children, cloneElement } from \"react\";\r\nimport Axios from 'axios'\r\nlet basePath = 'http://api.tianapi.com'\r\n// 防抖\r\n// 多次触发的情况下只触发一次\r\nfunction debounce(fn, delay) {\r\n    let timeout = null;\r\n    return function (event) {\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(() => {\r\n            fn.apply(this, arguments);\r\n        }, delay);\r\n    };\r\n}\r\n// 节流\r\n// 多次触发的情况下减少触发的次数\r\nfunction throttle(fn, delay) {\r\n    let valid = true\r\n    return function (e) {\r\n        if (!valid) {\r\n            return false\r\n        }\r\n        valid = false\r\n        setTimeout(() => {\r\n            fn(e)\r\n            valid = true;\r\n        }, delay)\r\n    }\r\n}\r\n// 判断平台\r\nfunction isMobile() {\r\n    let Agents = [\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\"];\r\n    let arr = Agents.map(val => {\r\n        if (navigator.userAgent.indexOf(val) > 0) {\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    })\r\n    if (arr.includes(true)) return true\r\n    return false;\r\n}\r\n// children遍历\r\nfunction childrenMap(children, props){\r\n    return Children.map(children, (child, index) => {\r\n        return cloneElement(child, {\r\n            index,\r\n            ...props\r\n        });\r\n    })\r\n}\r\n// 单位转换\r\nfunction px2rem (px){\r\n    let fontSize = document.getElementsByTagName('html')[0].style.fontSize.split('px')[0]\r\n    if(typeof px === 'string'){\r\n        if(px.includes('px') > -1){\r\n            let val = px.split('px')[0]\r\n            return `${Number(val)/Number(fontSize)}rem`\r\n        }\r\n    }\r\n    return `${px/Number(fontSize)}rem`\r\n}\r\n// 格式化时间   秒   --->   --:--:--\r\nfunction formatSeconds(value, ms) {\r\n    let theTime = parseInt(value);// 秒\r\n    let theTime1 = 0;// 分\r\n    let theTime2 = 0;// 小时\r\n    if (theTime >= 60) {\r\n        theTime1 = parseInt(theTime / 60);\r\n        theTime = parseInt(theTime % 60);\r\n        if (theTime1 >= 60) {\r\n            theTime2 = parseInt(theTime1 / 60);\r\n            theTime1 = parseInt(theTime1 % 60);\r\n        }\r\n    }\r\n    let result = \"\" + parseInt(theTime);\r\n    if(result < 10){\r\n        result = '0' + result;\r\n    }\r\n    if (theTime1 > 0) {\r\n        result = \"\" + parseInt(theTime1) + \":\" + result;\r\n        if(theTime1 < 10){\r\n            result = '0' + result;\r\n        }\r\n    }else{\r\n        result = '00:' + result;\r\n    }\r\n    if (theTime2 > 0) {\r\n        result = \"\" + parseInt(theTime2) + \":\" + result;\r\n        if(theTime2 < 10){\r\n            result = '0' + result;\r\n        }\r\n    }else{\r\n        result = '00:' + result;\r\n    }\r\n    // console.log(('' + value).split('.')[1]?.substring(0,3))\r\n    // value += ('' + value).split('.')[1].substring(0,3)\r\n    result = `${result}.${('' + value).split('.')[1]?.substring(0,3)}`\r\n    return result;\r\n}\r\n\r\n//全屏\r\nfunction fullScreen() {\r\n    var element = document.documentElement;\r\n    if (element.requestFullscreen) {\r\n        element.requestFullscreen();\r\n    } else if (element.msRequestFullscreen) {\r\n        element.msRequestFullscreen();\r\n    } else if (element.mozRequestFullScreen) {\r\n        element.mozRequestFullScreen();\r\n    } else if (element.webkitRequestFullscreen) {\r\n        element.webkitRequestFullscreen();\r\n    }\r\n}\r\n\r\n//退出全屏 \r\nfunction exitFullscreen() {\r\n    if (document.exitFullscreen) {\r\n        document.exitFullscreen();\r\n    } else if (document.msExitFullscreen) {\r\n        document.msExitFullscreen();\r\n    } else if (document.mozCancelFullScreen) {\r\n        document.mozCancelFullScreen();\r\n    } else if (document.webkitExitFullscreen) {\r\n        document.webkitExitFullscreen();\r\n    }\r\n}\r\n// 状态管理\r\nfunction stateManage(obj){\r\n\r\n}\r\n\r\nfunction setLocalStorage(key, val){\r\n    localStorage.setItem(key, JSON.stringify(val))\r\n}\r\nfunction getLocalStorage(key){\r\n    let val = localStorage.getItem(key)\r\n    return JSON.parse(val)\r\n}\r\n\r\nasync function get(url, params){\r\n    let path\r\n    if(!isURL(url))\r\n        path = basePath + url\r\n    if(isURL(url))\r\n        path = url\r\n    return await Axios.get(path,{\r\n        params:params\r\n    }).then(res=>res.data)\r\n}\r\n\r\nfunction isURL(str_url) { // 验证url\r\n    var strRegex = \"^((https|http){1}://)\" +\r\n        \"(([0-9]{1,3}\\.){3}[0-9]{1,3}\" // IP形式的URL- 199.194.52.184\r\n        + \"|\" // 允许IP和DOMAIN（域名）\r\n        + \"([0-9a-z_!~*'()-]+\\.){1}\" // 域名- www.\r\n        + \"([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\\.\" // 二级域名\r\n        + \"[a-z]{2,6})\" // first level domain- .com or .museum\r\n        + \"(:[0-9]{1,4})?\" // 端口- :80\r\n        + \"((/?)|\" // a slash isn't required if there is no file name\r\n        + \"(/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+/?)$\";\r\n        var re = new RegExp(strRegex);\r\n        return re.test(str_url);\r\n}\r\n\r\nfunction getSearchWord(type, keyWord){\r\n    switch(type){\r\n        case 'Google':\r\n            return 'http://clients1.google.com/complete/search?hl=zh&output=toolbar&q=' + keyWord\r\n        case 'Baidu':\r\n            return `http://suggestion.baidu.com/su?wd=${keyWord}&cb=window.baidu.sug`\r\n        case 'Sougou':\r\n            return `http://w.sugg.sogou.com/sugg/ajaj_json.jsp?key=${keyWord}&type=web`\r\n        case 'so':\r\n            return `https://sug.so.360.cn/suggest?callback=suggest_so&word=${keyWord}`\r\n        case 'Bing':\r\n            return `https://api.bing.com/qsonhs.aspx?type=cb&q=${keyWord}`\r\n        default:\r\n            return ''\r\n    }\r\n}\r\nlet Util = {\r\n    debounce,\r\n    throttle,\r\n    isMobile,\r\n    childrenMap,\r\n    px2rem,\r\n    formatSeconds,\r\n    fullScreen,\r\n    exitFullscreen,\r\n    stateManage,\r\n    setLocalStorage,\r\n    getLocalStorage,\r\n    get,\r\n    isURL,\r\n    getSearchWord\r\n}\r\nexport {\r\n    debounce,\r\n    throttle,\r\n    isMobile,\r\n    childrenMap,\r\n    px2rem,\r\n    formatSeconds,\r\n    fullScreen,\r\n    exitFullscreen,\r\n    stateManage,\r\n    setLocalStorage,\r\n    getLocalStorage,\r\n    get,\r\n    isURL,\r\n    getSearchWord\r\n}\r\nexport default Util","// Copyright (c) [2021] [daifang]\r\n// [Dcomponent] is licensed under Mulan PSL v2.\r\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\r\n// You may obtain a copy of Mulan PSL v2 at:\r\n//          http://license.coscl.org.cn/MulanPSL2\r\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND,\r\n// EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,\r\n// MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\r\n// See the Mulan PSL v2 for more details.\r\nimport './index.less'\r\nimport {useEffect, useState, useRef} from 'react'\r\nimport { func, object } from 'prop-types'\r\nimport {throttle} from '../util/Utils'\r\n\r\nexport default function List(props) {\r\n    let { onBottom, children, style, id, className } = props  // 父组件传值\r\n    let [height,setHeight] = useState(0)  // 初始高\r\n    let list = useRef(null)  // 获取dom\r\n    let [isUnMount, setUnMount] = useState(false) // unMount\r\n\r\n    useEffect(() => {\r\n        // console.log('高度改变')\r\n        list.current.onscroll = throttle(()=>{\r\n            eventFn(list.current)\r\n        }, 1000)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [height]) \r\n    useEffect(() => {\r\n        // didMount\r\n        return () => {\r\n        // unMount\r\n            setUnMount(true)\r\n        }\r\n    }, [])\r\n\r\n    // 事件\r\nfunction eventFn(event){\r\n    if(isBottom(event)){\r\n        if(onBottom)\r\n            onBottom()\r\n    }\r\n}\r\nfunction isBottom(e) {\r\n    // 判断滑动到底部\r\n    const { clientHeight, scrollHeight, scrollTop } = e\r\n    const isBottom = Number(scrollTop) + Number(clientHeight) >= Number(scrollHeight) - 50\r\n    // console.log(isBottom)\r\n    if (isBottom) {\r\n      // 到底\r\n      console.log(height, scrollHeight)\r\n      if (height === scrollHeight) {\r\n        console.log('到底但是不加载')\r\n        return false\r\n      }\r\n      // 加载\r\n    //   console.log('xxxxxxxxxxxxxxxxx')\r\n    //   console.log(scrollHeight)\r\n      setHeight(scrollHeight)\r\n    //   console.log(height)\r\n    //   console.log('xxxxxxxxxxxxxxxxx')\r\n    //   console.log('到底并加载')\r\n      return true\r\n    }\r\n    return false\r\n}\r\n    return(\r\n        <div className={`d-list ${className}`} id={id} ref={list} style={{...style}}>\r\n            {children}\r\n            <div style={{width:\"100%\", height:'20vh'}}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nList.propTypes = {\r\n    onBottom:func,\r\n    style:object\r\n}\r\n\r\n","\r\nimport { Avatar, Grid, Card, Ellipsis, SwipeAction, Toast } from \"antd-mobile\"\r\nimport { useContext } from \"react\"\r\nimport { context } from \"../util/Context\"\r\nimport { apiPath } from \"../util/request\"\r\nfunction SongCard(props){\r\n    let {item, setLoading, key, like, setIds, ids} = props\r\n    let { setUrl, setAvator, setTitle, id, setId } = useContext(context)\r\n    return <Card key={key} onClick={()=>{\r\n        if(item.id === id) return\r\n        setLoading(true)\r\n        apiPath.checkMusic({\r\n            id:item.id\r\n        }).then(res=>{\r\n            if(!res.data.success){\r\n                Toast.show(res.message)\r\n            }else{\r\n                apiPath.getSongsUrl({\r\n                    id : item.id\r\n                }).then(res=>{\r\n                    // console.log(res,'songUrl')\r\n                    // setUrls([...res.data.data])\r\n                    setId(item.id)\r\n                    setUrl(res.data.data[0].url)\r\n                    setAvator(item.al.picUrl)\r\n                    setTitle(item.name + '-' + item.ar[0].name)\r\n                    setLoading(false)\r\n                })\r\n            }\r\n        }).catch(err=>{\r\n            setLoading(false)\r\n            Toast.show('暂无版权或请求失败')\r\n        })\r\n    }} \r\n        className={`animated faster fadeIn cardBody ${item.id === id ? 'card-active':''}`}\r\n    >\r\n    <SwipeAction\r\n        rightActions={[\r\n            {\r\n                key: 'pin',\r\n                text: like?'删除':'我喜欢',\r\n                color: like?'danger':'warning',\r\n                onClick:async (e)=>{\r\n                    e.stopPropagation()\r\n                    if(!like){\r\n                        apiPath.likeMusic({\r\n                            id:item.id\r\n                        }).then(res=>{\r\n                            Toast.show('添加成功')\r\n                        })\r\n                        return\r\n                    }\r\n                    apiPath.likeMusic({\r\n                        id:item.id,\r\n                        like:false\r\n                    }).then(res=>{\r\n                        Toast.show('删除成功')\r\n                        ids.push(item.id)\r\n                        setIds([...ids])\r\n                    })\r\n                }\r\n            }\r\n        ]}\r\n        leftActions={[\r\n            {\r\n                key: 'pin',\r\n                text: '我喜欢',\r\n                color: 'warning',\r\n                onClick:async (e)=>{\r\n                    e.stopPropagation()\r\n                    apiPath.likeMusic({\r\n                        id:item.id\r\n                    }).then(res=>{\r\n                        Toast.show('添加成功')\r\n                    })\r\n                }\r\n            }\r\n        ]}\r\n        className={`cardBody ${item.id === id ? 'card-active':''}`}\r\n    >\r\n        <Grid columns={9} gap={10}>\r\n            <Grid.Item span={3}>\r\n                <Avatar className=\"songsImg\" src={item.al.picUrl}/>\r\n            </Grid.Item>\r\n            <Grid.Item span={6} style={{display:'flex', flexDirection:'column',alignItems:'start', justifyContent:'space-between'}}>\r\n                <Ellipsis direction='end' style={{fontSize:'16px'}} content={item.name}></Ellipsis >\r\n                <span style={{fontSize:'13px'}}>{item.ar[0].name}</span>\r\n            </Grid.Item>\r\n        </Grid>\r\n        </SwipeAction>\r\n    </Card>\r\n}\r\n\r\nexport default SongCard","import { Empty, Input, Avatar, Grid, Card, Ellipsis, SwipeAction, Toast, Swiper, Tabs, Mask, SpinLoading, PullToRefresh, Badge } from \"antd-mobile\"\r\nimport { Form } from \"antd-mobile/es/components/form/form\"\r\nimport { FormItem } from \"antd-mobile/es/components/form/form-item\"\r\nimport { useState, useContext, useEffect, useRef } from \"react\"\r\nimport { context } from \"./component/util/Context\"\r\nimport { apiPath } from \"./component/util/request\"\r\nimport List from '../page/component/list'\r\nimport { px2rem } from \"./component/util/Utils\"\r\nimport SongCard from './component/songCard'\r\nlet keyword, offset = 0 * 20, useList\r\nfunction Main (props){\r\n    let [list, setList] = useState([])\r\n    let { setUrl, setAvator, setTitle, setMusicList, id, setId } = useContext(context)\r\n    let [banner, setBanner] = useState([])\r\n    let [banners, setBanners] = useState('')\r\n    let [keyWord, setKeyWord] = useState('')\r\n    let [loading, setLoading] = useState(false)\r\n    // let [key, setKey] = useState()\r\n    let [dailySongs, setDailySongs] = useState([])\r\n    let input = useRef(null)\r\n    let [tabKey, setTabKey] = useState('-1')\r\n    useEffect(()=>{\r\n        apiPath.getBanner({}).then(res=>{\r\n            // console.log(res)\r\n            setBanner(res.data.banners)\r\n        })\r\n        if(localStorage.getItem('userInfo')){\r\n            apiPath.getrecommendSongs({}).then(res=>{\r\n                // console.log(res.data.data.dailySongs)\r\n                setDailySongs(res.data.data.dailySongs)\r\n                setMusicList(res.data.data.dailySongs)\r\n            })\r\n        }\r\n\r\n        return()=>{\r\n            setKeyWord('')\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[])\r\n    useEffect(()=>{\r\n        useList = list\r\n    },[list])\r\n    useEffect(()=>{\r\n        const banners = banner.map((val, idx)=>\r\n            <Swiper.Item onClick={()=>{\r\n                    window.open(val.pic)\r\n                }}>\r\n                    <div style={{height:'100%', width:'100%'}}>\r\n                        <img style={{height:'100%', width:'100%', objectFit:'cover'}} src={val.pic} alt={val.typeTitle}/>\r\n                    </div>\r\n            </Swiper.Item>\r\n        )\r\n        setBanners(banners)\r\n    },[banner])\r\n    useEffect(()=>{\r\n        console.log(banners)\r\n    },[banners])\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    function getData(callback, refrush = false, type = 1){\r\n        setLoading(true)\r\n        // console.log(keyword, offset)\r\n        if(keyword){\r\n            apiPath.cloudsearch({\r\n                keywords:keyword,\r\n                offset,\r\n                type\r\n            }).then(res=>{\r\n                // console.log(res)\r\n                if(refrush){\r\n                    let brr = res.data.result.songs\r\n                    setList(brr)\r\n                    setMusicList(brr)\r\n                    offset = 0\r\n                }else{\r\n                    let arr = useList.concat(res.data.result.songs)\r\n                    setList(arr)\r\n                    setMusicList(arr)\r\n                    offset += 30\r\n                }\r\n                // console.log(useList)\r\n                // console.log(useList.concat(res.data.result.songs))\r\n\r\n                callback()\r\n            })\r\n        }\r\n    }\r\n    Main.search = (key)=>{\r\n        setKeyWord(key)\r\n        keyword = key\r\n        setTabKey('1')\r\n        getData(()=>{\r\n            setLoading(false)\r\n        }, true)\r\n    }\r\n    return(<>\r\n\r\n    <Form>\r\n        <FormItem>\r\n            <Input \r\n                ref={input}\r\n                placeholder=\"搜索\" \r\n                value={keyWord} \r\n                type='search' onChange={(e)=>{\r\n                    setKeyWord(e)\r\n                    keyword = e\r\n                    // console.log(e)\r\n                }}\r\n                onKeyDown={(e)=>{\r\n                    if(e.keyCode === 13){\r\n                        keyword = keyWord\r\n                        if(!loading){\r\n                            setList([])\r\n                            if(keyword){\r\n                                offset = 0\r\n                                getData(()=>{\r\n                                    setLoading(false)\r\n                                    input.current?.blur()\r\n                                })\r\n                            }\r\n                            if(keyword === ''){\r\n                                setLoading(false)\r\n                                offset = 0\r\n                            }\r\n                            setTabKey('1')\r\n                        }\r\n                    }\r\n                }}\r\n            />\r\n        </FormItem>\r\n    </Form>\r\n    <Mask visible={loading}>\r\n        <div className=\"overlayContent\">\r\n            { loading && <SpinLoading style={{ '--size': '48px' }} color='primary'/>}\r\n        </div>\r\n    </Mask>\r\n    <Tabs \r\n        onChange={(key)=>{\r\n            // console.log(key)\r\n            setTabKey(key)\r\n        }}\r\n        activeKey={tabKey}\r\n        className=\"main\"\r\n    >\r\n        <Tabs.Tab \r\n            title={\r\n                <Badge content={`${dailySongs.length}`} \r\n                    style={{ '--right': '-10px', '--top': '8px' }}>\r\n                  每日推荐\r\n                </Badge>\r\n              }\r\n            key='-1'>\r\n\r\n            <List style={{height:'80vh'}}>\r\n            <PullToRefresh onRefresh={()=>{\r\n                if(localStorage.getItem('userInfo')){\r\n                    setDailySongs([])\r\n                    setMusicList([])\r\n                    apiPath.getrecommendSongs({}).then(res=>{\r\n                        // console.log(res.data.data.dailySongs)\r\n                        setDailySongs([...res.data.data.dailySongs])\r\n                        setMusicList([...res.data.data.dailySongs])\r\n                    })\r\n                }\r\n            }}>\r\n            <Swiper autoplay loop allowTouchMove style={{height:px2rem('120px'),'--border-radius':'8px'}} slideSize={100}>\r\n              {banners}\r\n            </Swiper>\r\n            {\r\n                dailySongs.map((item, idx)=>{\r\n                    return(\r\n                        <SongCard key = {idx} item={item} like={false} setLoading = {setLoading}/>\r\n                    )\r\n                })          \r\n            }\r\n            {\r\n                dailySongs.length === 0 && <Empty description='获取推荐歌曲请先登录'/>\r\n            }\r\n            </PullToRefresh>\r\n            </List>\r\n\r\n\r\n        </Tabs.Tab>\r\n        <Tabs.Tab \r\n            title={\r\n                <Badge content={`${list.length}`} \r\n                    style={{ '--right': '-10px', '--top': '8px' }}>\r\n                  歌曲搜索\r\n                </Badge>\r\n              }\r\n            key={'1'} \r\n            style={{height:'100%'}}>\r\n            <List onBottom={()=>{\r\n                getData(()=>{\r\n                    setLoading(false)\r\n                },false)\r\n            }}\r\n            >\r\n            {\r\n                list.map((item, idx)=>{\r\n                    return(\r\n                        <SongCard key = {idx} item={item} like={false} setLoading = {setLoading}/>\r\n                    )\r\n                })          \r\n            }\r\n            {\r\n                list.length === 0 && <Empty description='暂无数据'/>\r\n            }\r\n            </List>\r\n        </Tabs.Tab>\r\n        {/* <Tabs.Tab title='专辑' key={10}>\r\n            专辑\r\n        </Tabs.Tab>\r\n        <Tabs.Tab title='歌手' key={100}>\r\n            歌手\r\n        </Tabs.Tab> */}\r\n    </Tabs>\r\n    </>)\r\n}\r\n\r\nexport default Main","import { Avatar, Button, Card, Grid, Ellipsis, Skeleton } from \"antd-mobile\"\r\nimport { useEffect, useState, useContext } from \"react\"\r\nimport { apiPath } from \"./component/util/request\"\r\nimport { context } from  './component/util/Context'\r\nfunction Person(props){\r\n    let [showPage, setShow] = useState(false)\r\n    let [personInfo, setInfo] = useState({})\r\n    let [songNum, setSongNum] = useState(0)\r\n    // eslint-disable-next-line no-unused-vars\r\n    let [list, setList] = useState([])\r\n    let { setMusicList } = useContext(context)\r\n    useEffect(()=>{\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        if(localStorage.getItem('userInfo')){\r\n            // eslint-disable-next-line react-hooks/exhaustive-deps\r\n            personInfo = JSON.parse(localStorage.getItem('userInfo'))\r\n        }else{\r\n            props.history.replace('/login')\r\n            return\r\n        }\r\n        // console.log(personInfo)\r\n        if(!personInfo?.avatarImgId){\r\n            props.history.replace('/login')\r\n        }\r\n        apiPath.getUserInfo({\r\n            uid:personInfo.userId\r\n        }).then(res=>{\r\n            // console.log(res.data)\r\n            setInfo({...res.data})\r\n        })\r\n        apiPath.getLikeList({\r\n            uid: personInfo.userId\r\n        }).then(res=>{\r\n            // console.log(res.data)\r\n            // setList([...res.data.ids])\r\n            setSongNum(res.data.ids.length)\r\n            apiPath.getSongs({\r\n                ids:res.data.ids.join(',')\r\n            }).then(ress=>{\r\n                // console.log(ress.data)\r\n                if(ress.data.code === 200){\r\n                    setList([...ress.data.songs])\r\n                    setMusicList([...ress.data.songs])\r\n                }\r\n            })\r\n        })\r\n        return ()=>{\r\n\r\n        }\r\n    },[])\r\n    useEffect(() => {\r\n        if(personInfo?.profile)\r\n            setShow(true)\r\n        return () => {\r\n        };\r\n    }, [personInfo])\r\n\r\n    return (\r\n        <>\r\n            {showPage && <>\r\n                {/* <div style={{height:'100vh', width:'100vw', position:'absolute',zIndex:'-1',background:`url(${personInfo.backgroundUrl})`,filter:'blur(9px)'}}></div> */}\r\n                {/* <NavBar back=\"\" backArrow={false} style={{background:'white',boxShadow: '0px 1px 1px rgba(0, 0, 0, 0.16)'}}>个人空间</NavBar> */}\r\n                <div style={{height:'100%',padding:'20px',zIndex:'10', overflow:'scroll'}}>\r\n                    <Card className='animated faster fadeIn'>\r\n                        <Grid columns={6}>\r\n                            <Grid.Item span={6} style={{display:'flex',justifyContent:'center'}}>\r\n                                <Avatar src={personInfo.profile.avatarUrl}/>\r\n                            </Grid.Item>\r\n                            <Grid.Item style={{height:'10px'}}/>\r\n                            <Grid.Item span={6} style={{display:'flex',justifyContent:'center'}}>\r\n                                <Grid columns={3} gap={20} style={{fontSize:'17px'}}>\r\n                                    <Grid.Item span={1}>\r\n                                        {personInfo.profile.follows} 关注\r\n                                    </Grid.Item>\r\n                                    <Grid.Item span={1}>\r\n                                        {personInfo.profile.followeds} 粉丝\r\n                                    </Grid.Item>\r\n                                    <Grid.Item span={1}>\r\n                                        lv.{personInfo.level}\r\n                                    </Grid.Item>\r\n                                </Grid>\r\n                            </Grid.Item>\r\n                            <Grid.Item style={{height:'10px'}}/>\r\n                            <Grid.Item span={6} style={{display:'flex',justifyContent:'center'}}>\r\n                                <span style={{fontSize:'25px'}}>{personInfo.profile.nickname}</span>\r\n                            </Grid.Item>\r\n                            <Grid.Item style={{height:'10px'}}/>\r\n                            <Grid.Item span={6}>\r\n                                <Ellipsis direction='end' style={{fontSize:'14px'}} expandText='更多' collapseText='收起' content={`个人签名:${personInfo.profile.signature}`}></Ellipsis >\r\n                            </Grid.Item>\r\n                        </Grid>\r\n                    </Card>\r\n                    <Button style={{marginTop:\"30px\", padding:'0'}} \r\n                        onClick={()=>{\r\n                                props.history.push('/song')\r\n                        }}\r\n                    >\r\n                        <Card >\r\n                            <Grid columns={10} gap={20}>\r\n                                <Grid.Item span={3}>\r\n                                    <Avatar src={personInfo.profile.backgroundUrl} style={{height:'100%', width:'100%'}}/>\r\n                                </Grid.Item>\r\n                                <Grid.Item   span={5} style={{display:'flex',flexDirection:'column',justifyContent:'center'}}>\r\n                                        <span style={{fontSize:'23px'}}>我喜欢的音乐</span>\r\n                                        <br/>\r\n                                        <span style={{fontSize:'16px'}}>{songNum}首</span>\r\n                                </Grid.Item>\r\n                            </Grid>\r\n                        </Card>\r\n                    </Button>\r\n                    <div style={{height:'10vh', width:'100%'}}>\r\n\r\n                    </div>\r\n                    <Button color='danger' size='large' block onClick={()=>{\r\n                        apiPath.logout({}).then(res=>{\r\n                            if(res.data.code === 200){\r\n                                localStorage.clear()\r\n                                props.history.replace('/login')\r\n                            }\r\n                        })\r\n                    }}>退出登录</Button>\r\n                </div>\r\n            </>}\r\n            {\r\n                !showPage && <>\r\n                    <Grid columns={1} style={{padding:\"20px\"}}>\r\n                        <Skeleton.Title animated/>\r\n                        <Skeleton.Paragraph lineCount={4} animated/>\r\n                        <Skeleton animated style={{width:'100%', height:'80px', borderRadius:'5px'}}/>\r\n                    </Grid>\r\n                </>\r\n            }\r\n        </>\r\n    )\r\n}\r\nexport default Person","/* eslint-disable no-unused-vars */\r\nimport { Avatar, Card, Ellipsis, SwipeAction, Toast, FloatingBubble, Mask, SpinLoading, NavBar, Button } from \"antd-mobile\"\r\nimport { Grid } from \"antd-mobile/es/components/grid/grid\"\r\nimport { useEffect, useState, useContext } from \"react\"\r\nimport { apiPath } from \"./component/util/request\"\r\nimport { context } from  './component/util/Context'\r\nimport List from '../page/component/list'\r\nimport SongCard from \"./component/songCard\"\r\nlet useList, page = 0\r\nfunction Songs(props){\r\n    let [showPage, setShow] = useState(true)\r\n    let [personInfo, setInfo] = useState({})\r\n    let [list, setList] = useState([])\r\n    let { setUrl, setAvator, setTitle, id, setId, setMusicList } = useContext(context)\r\n    let [showMusic, setShowMusic] = useState(true)\r\n    let [loading, setLoading] = useState(false)\r\n    let [ids, setIds] = useState([])\r\n    useEffect(()=>{\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        if(localStorage.getItem('userInfo')){\r\n            personInfo = JSON.parse(localStorage.getItem('userInfo'))\r\n            // console.log(personInfo)\r\n            if(!personInfo?.avatarImgId){\r\n                props.history.replace('/login')\r\n                return\r\n            }\r\n            page = 0\r\n            getData(page)\r\n        }else{\r\n            props.history.replace('/login')\r\n            return\r\n        }\r\n        return ()=>{\r\n\r\n        }\r\n    },[])\r\n    useEffect(() => {\r\n        if(personInfo.profile)\r\n            setShow(true)\r\n        return () => {\r\n        };\r\n    }, [personInfo])\r\n    useEffect(()=>{\r\n        if(list.length === 0){\r\n            page = 0\r\n        }else{\r\n            page++\r\n        }\r\n        useList = list\r\n        setMusicList([...list])\r\n    },[list])\r\n    let getData = (page)=>{\r\n        setShowMusic(false)\r\n        setLoading(true)\r\n        return apiPath.getLikeList({\r\n            uid: personInfo.userId\r\n        }).then(res=>{\r\n            // console.log(res.data)\r\n            // setList([...res.data.ids])\r\n\r\n            apiPath.getSongs({\r\n                ids:res.data.ids.slice(10 * page, 10 * page + 9).join(',')\r\n            }).then(ress=>{\r\n                // console.log(ress.data)\r\n                if(ress.data.code === 200){\r\n                    let arr = useList.concat(ress.data.songs)\r\n                    setList(arr)\r\n                }\r\n                setLoading(false)\r\n            })\r\n        })\r\n    }\r\n    return (\r\n        <>\r\n            <NavBar back='' onBack={()=>{\r\n                    props.history.go(-1)\r\n                }}\r\n            >\r\n                我喜欢的音乐\r\n            </NavBar>\r\n            <Mask visible={loading}>\r\n                <div className=\"overlayContent\">\r\n                    { loading && <SpinLoading style={{ '--size': '48px' }} color='primary'/>}\r\n                </div>\r\n            </Mask>\r\n            {showPage && <>\r\n                {/* <div style={{height:'100vh', width:'100vw', position:'absolute',zIndex:'-1',background:`url(${personInfo.backgroundUrl})`,filter:'blur(9px)'}}></div> */}\r\n                {/* <NavBar back=\"\" backArrow={false} style={{background:'white',boxShadow: '0px 1px 1px rgba(0, 0, 0, 0.16)'}}>个人空间</NavBar> */}\r\n                <div style={{height:'100%',padding:'0',zIndex:'10', overflow:'scroll'}}>\r\n                    <List \r\n                        onBottom={()=>{\r\n                            getData(page) \r\n                        }} \r\n                        style={{height:'90vh'}}\r\n                        id='songsList'\r\n                        className='main'\r\n                    >\r\n                    {\r\n                        list.map((item, idx)=>{\r\n                            if(ids.includes(item.id)) return null\r\n                            return(\r\n                                <SongCard key = {idx} ids={ids} setIds = {setIds} item={item} like={true} setLoading = {setLoading}/>\r\n                            )\r\n                        })\r\n                    }\r\n                    </List>\r\n                    <FloatingBubble\r\n                        style={{\r\n                            '--initial-position-bottom': '60px',\r\n                            '--initial-position-right': '24px',\r\n                            // '--edge-distance': '24px',\r\n                          }}\r\n                          onClick={()=>{\r\n                              console.log('定位')\r\n                              document.getElementById('songsList').scrollTo({\r\n                                  top:0,\r\n                                  behavior:'smooth'\r\n                              })\r\n                          }}\r\n                    >\r\n                        顶\r\n                    </FloatingBubble>\r\n                </div>\r\n            </>}\r\n        </>\r\n    )\r\n}\r\nexport default Songs","import { Toast } from 'antd-mobile'\r\nimport { any, bool, func } from 'prop-types'\r\nimport { useEffect, useState } from 'react'\r\nimport { formatSeconds } from '../util/Utils'\r\nimport'./style.less'\r\n\r\n\r\nfunction Process(props){\r\n    let { total, current, onClick, style, showTime, disable } = props\r\n    let [percentage, setPercentage] = useState('0%')\r\n    let [innerTotal, setTotal] = useState(0)\r\n    let [innerCurrent, setCurrent] = useState(0)\r\n    // eslint-disable-next-line no-unused-vars\r\n    let [move, setMove] = useState(false)\r\n    let [flag, setflag] = useState('0%')\r\n    useEffect(()=>{\r\n        setData()\r\n        // console.log('process-16',move)\r\n        // console.log(total)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        // console.log(innerCurrent,innerTotal)\r\n        setPercentage(`${(innerCurrent/innerTotal)*100}%`)\r\n        setflag(`${(innerCurrent/innerTotal)*100 - 0.5}%`)\r\n    },[innerCurrent, innerTotal])\r\n    useEffect(() => {\r\n        setCurrent(current)\r\n        setTotal(total)\r\n        // Toast.show(formatSeconds(total))\r\n    }, [total,current])\r\n\r\n    function setData(){\r\n        setTotal(total)\r\n        setCurrent(current)\r\n    }\r\n\r\n    return <div className='process'>\r\n                {showTime &&<div className='text' style={style}>\r\n                    {`${formatSeconds(innerCurrent)?.split('.')[0] ||'00:00:00'} / ${`${formatSeconds(total)}`?.split('.')[0] ||'00:00:00'}`}\r\n                </div>}\r\n                <div className=\"total\"\r\n                        onMouseDown={(e)=>{\r\n                            if(!disable){\r\n                                let x = e.clientX - e.currentTarget.getBoundingClientRect().left\r\n                                let width = e.currentTarget.clientWidth\r\n                                let per = (x/width)\r\n                                if(per < 0) per = 0\r\n                                if(per > 1) per = 1\r\n                                setCurrent(total*per)\r\n                                setMove(true)\r\n                                if(onClick)\r\n                                    onClick(total*per, e)\r\n                            }\r\n                        }}\r\n                        onMouseUp={()=>{\r\n                            if(!disable)\r\n                                setMove(false)\r\n                        }}\r\n                        // onMouseMove={(e)=>{\r\n                        //     if(move){\r\n                        //         let x = e.clientX - e.currentTarget.getBoundingClientRect().left\r\n                        //         let width = e.currentTarget.clientWidth\r\n                        //         let per = (x/width)\r\n                        //         if(per < 0) per = 0\r\n                        //         if(per > 1) per = 1\r\n                        //         setCurrent(total*per)\r\n                        //     }\r\n                        // }}\r\n                    >\r\n                <div className=\"current\" onClick={()=>false} style={{width:percentage}}></div>\r\n                <div className=\"flag\" \r\n                    style={{left:flag}}\r\n                    // onMouseDown={(e)=>{\r\n\r\n                    // }}    \r\n                    // onMouseMove={(e)=>{\r\n                    //     console.log(e)\r\n                    // }}\r\n                ></div>\r\n            </div>\r\n\r\n        </div>\r\n}\r\nProcess.propTypes = {\r\n    total:any,\r\n    current:any,\r\n    onClick:func,\r\n    showTime:bool,\r\n    disable:bool\r\n}\r\nProcess.defaultProps = {\r\n    total: 0,\r\n    current: 0,\r\n    showTime:true,\r\n    disable:false\r\n}\r\nexport default Process","import { Button, Ellipsis, NoticeBar} from 'antd-mobile'\r\nimport PropTypes from 'prop-types'\r\nimport { useEffect, useRef, useState, useContext } from 'react'\r\nimport Process from '../Process'\r\nimport { context } from '../util/Context'\r\nimport './index.less'\r\n\r\nAudio.loadingData = true // 加载状态\r\nAudio.current = null // dom实例\r\nfunction Audio(props){\r\n    let { src, autoPlay, controls, next, title, avator, showProcess, onEnd, onClick } = props\r\n    const audio = useRef(null)\r\n    let [current, setCurrent] = useState(0)\r\n    let [total, setTotal] = useState(10)\r\n    let { setCurrentTime, setTotalTime, setAudioStatus, setIndex } = useContext(context)\r\n    let [play, setPlay] = useState(false)\r\n    Audio.port = (time)=>{\r\n        // console.log(time)\r\n        audio.current.currentTime = time\r\n        setCurrentTime(time)\r\n        setCurrent(time)\r\n    }\r\n    useEffect(()=>{\r\n        if(audio.current){\r\n            Audio.current = audio.current\r\n            audio.current.onloadedmetadata = ()=>{\r\n                console.log('加载数据')\r\n                Audio.loadingData = true\r\n                setIndex(0)\r\n            }\r\n            audio.current.oncanplay = ()=>{\r\n                console.log('音频加载完毕，准备播放')\r\n                // playFlag()\r\n                audio.current?.play()\r\n            }\r\n            audio.current.ontimeupdate = ()=>{\r\n                setCurrent(audio.current?.currentTime)\r\n                setCurrentTime(audio.current?.currentTime)\r\n            }\r\n            audio.current.onpause = ()=>{\r\n                console.log('暂停')\r\n                setPlay(true)\r\n                setAudioStatus(true)\r\n            }\r\n            audio.current.onplay = ()=>{\r\n                console.log('播放',audio.current?.duration)\r\n                setPlay(false)\r\n                setAudioStatus(false)\r\n                setTotal(audio.current?.duration)\r\n                setTotalTime(audio.current?.duration)\r\n                Audio.loadingData = false\r\n            }\r\n            // audio.current.onend=(e)=>{\r\n\r\n            // }\r\n        }\r\n        return ()=>{\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[])\r\n    useEffect(()=>{\r\n\r\n        return ()=>{\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[src])\r\n    useEffect(()=>{\r\n        if(!audio.current?.paused){\r\n            audio.current?.play()\r\n            setTotal(audio.current?.duration)\r\n            setTotalTime(audio.current?.duration)\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[current])\r\n    return (\r\n        <div className=\"Audio\" onClick={()=>{\r\n            // window.open(src)\r\n            if(onClick)\r\n                onClick()\r\n        }}>\r\n            <div className='audio_img'>\r\n                {avator && <img alt='' src={avator}/>}\r\n            </div>\r\n            <div className='audio_body'>\r\n            <div className='audio_header'>\r\n                <NoticeBar \r\n                    content={title.split('-')[0]} \r\n                    style={{    \r\n                        padding: '0',\r\n                        color: 'black',\r\n                        boxSizing: 'border-box',\r\n                        background: 'rgb(238, 238, 238)',\r\n                        border: 'none',\r\n                        height: '25px'\r\n                    }} \r\n                    icon={<></>}\r\n                />\r\n                <Ellipsis direction='end' content={title.split('-')[1]} style={{paddingLeft:'5px'}}/>\r\n            </div>\r\n            <div className=\"control\">\r\n                {showProcess && <Process\r\n                    total={total}\r\n                    current={current}\r\n                    onClick={(current)=>{\r\n                        audio.current.currentTime = current\r\n                        audio.current.play()\r\n                    }}\r\n                />}\r\n                {controls&&<div className='controls'>\r\n                    {/* <Button style={{borderRadius:\"100px\"}}><i \r\n                        className='iconfont icon-a-zhongboshuaxin'\r\n                        onClick={()=>{\r\n                            if(audio.current){\r\n                                audio.current.currentTime = 0\r\n                                setCurrent(audio.current.currentTime)\r\n                                cancelAnimationFrame(reId)\r\n                                playFlag()\r\n                                audio.current.play()\r\n                            }\r\n                        }}    \r\n                    ></i></Button> */}\r\n                    <Button style={{borderRadius:\"100px\"}} onClick={(e)=>{\r\n                        e.stopPropagation()\r\n                          if(audio.current){\r\n                            if(!audio.current.paused){\r\n                                audio.current.pause()\r\n                            }   \r\n                            else{\r\n                                audio.current.play()\r\n                            }\r\n                        }\r\n                    }}><i \r\n                        className={`iconfont ${play?'icon-bofang':'icon-zanting'}`}\r\n                    >\r\n                    </i></Button>\r\n                    {next && <Button style={{borderRadius:'100px'}}                        \r\n                            onClick={(e)=>{\r\n                                e.stopPropagation()\r\n                                if(next)\r\n                                    next()\r\n                            }}><i \r\n                            className='iconfont icon-24gf-next'\r\n                        ></i></Button>}\r\n                </div>}\r\n            </div>\r\n            <audio \r\n                ref={audio}\r\n                id=\"audio\"\r\n                src={src} \r\n                autoPlay={autoPlay}\r\n                onEnded={()=>{\r\n                    console.log('结束播放')\r\n                    Audio.loadingData = true\r\n                    if(onEnd){\r\n                        onEnd()\r\n                    }\r\n                }}\r\n            ></audio>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nAudio.propTypes = {\r\n    src: PropTypes.string, \r\n    autoPlay: PropTypes.bool,\r\n    controls:PropTypes.bool,\r\n    audioArr: PropTypes.array,\r\n    next: PropTypes.func,\r\n    title: PropTypes.string,\r\n    avator: PropTypes.string,\r\n}\r\nAudio.defaultProps = {\r\n    audioArr: [],\r\n    src: '', \r\n    autoPlay: true,\r\n    controls: true,\r\n    next: ()=>{},\r\n    avator:''\r\n}\r\nexport default Audio","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport './less/App.less';\r\nimport Main from './page/main'\r\nimport Person from './page/person'\r\nimport Songs from './page/song'\r\nimport Audio from './page/component/audio'\r\nimport { Redirect, Route, Switch, useLocation } from 'react-router-dom'\r\nimport {\r\n  AppOutline,\r\n  UserOutline,\r\n  CloseOutline\r\n} from 'antd-mobile-icons'\r\nimport { Avatar, Button, Divider, FloatingBubble, NoticeBar, Grid, Popup, TabBar, Tabs, Toast} from 'antd-mobile'\r\nimport { useEffect, useState } from 'react';\r\nimport { context } from './page/component/util/Context'\r\nimport { apiPath } from './page/component/util/request';\r\nimport Search from 'antd/lib/transfer/search';\r\nimport { formatSeconds, px2rem } from './page/component/util/Utils';\r\nimport Process from './page/component/Process';\r\nconst tabs = [\r\n  {\r\n    key: '/home',\r\n    title: '音乐',\r\n    icon: <AppOutline />\r\n  },\r\n  {\r\n    key: '/personalCenter',\r\n    title: '个人中心',\r\n    icon: <UserOutline />,\r\n  },\r\n]\r\nlet timeArr = [], indexx = -1, visiblee\r\nfunction App(props) {\r\n  const location = useLocation()\r\n  let { pathname } = location // \r\n  let [url, setUrl] = useState('') // 歌曲地址\r\n  let [title, setTitle] = useState('暂无') // 歌名\r\n  let [avator, setAvator] = useState(false)  // 图\r\n  // eslint-disable-next-line no-unused-vars\r\n  let [next, setNext] = useState({}) // 无用\r\n  let [musicList, setMusicList] = useState([]) // 歌曲列表\r\n  let [id, setId] = useState(-1) // 歌曲id\r\n  let [visible, setVisible] = useState(false)    // popup\r\n  let [songsContent, setContent] = useState([])  // 歌词\r\n  let [currentTime, setCurrentTime] = useState()  // 播放当前位置\r\n  let [formatTime, setFormatTime] = useState('00:00:00') // 格式化时间\r\n  let [index, setIndex] = useState(-1)  // 歌词位置\r\n  let [scroll, setScroll] = useState(true) // 歌词是否可定位\r\n  let [key, setKey] = useState('control')  // tab的关键词\r\n  let [total, setTotalTime] = useState(0)  // 总时间\r\n  let [audioStatus, setAudioStatus] = useState(true) // audio的状态\r\n  let [showTab, setShowTab] = useState(pathname!=='/song') // 是否显示导航栏\r\n  let [zhContent,setZhContent] = useState([]) // 中文歌词\r\n  let [zhObj, setZhobj] = useState({}) // 中文歌词键值对儿\r\n  let [isZh, setIsZh] = useState(false) // 是否存在翻译\r\n  let [showZh, setShowZh] = useState(false) // 是否展示翻译歌词\r\n  useEffect(()=>{\r\n    window.onhashchange = (e)=>{\r\n      console.log(window.location.hash)\r\n      let hash = window.location.hash\r\n      if(hash !== '#/home' && hash !== '#/personalCenter'){\r\n        setShowTab(false)\r\n      }else{\r\n        setShowTab(true)\r\n      }\r\n    }\r\n    // setInterval(() => {\r\n    //   console.log(Audio.loadingData)\r\n    // }, 100);\r\n    return ()=>{}\r\n  },[])\r\n  useEffect(()=>{\r\n    visiblee = visible\r\n    // if(visible){\r\n    //   window.onpopstate = (e)=>{\r\n    //     // e.preventdefault()\r\n    //     if(visiblee){\r\n    //       // location.replace('url')\r\n    //       e.target.history.pushState(null,\"\",\"?jump=false\")\r\n    //       setVisible(false)\r\n    //       console.log('关闭Popup', e)\r\n    //     }\r\n    //   }\r\n    // }else{\r\n    //   window.onpopstate = null\r\n    // }\r\n  },[visible])\r\n  useEffect(()=>{\r\n    // 获取歌词\r\n    apiPath.getLyric({\r\n      id\r\n    }).then(res=>{\r\n      // console.log(res)\r\n      let content = res.data.lrc?.lyric?.replace(/(\\n)/g, \"<br/>\").split('<br/>').filter(val=>val.length > 11)\r\n      setContent(content)\r\n      if(res.data.tlyric?.lyric){\r\n        content = res.data.tlyric?.lyric?.replace(/(\\n)/g, \"<br/>\").split('<br/>')\r\n        setZhContent(content)\r\n        setIsZh(true)\r\n      }else{\r\n        setIsZh(false)\r\n      }\r\n      setIndex(0)\r\n    })\r\n  },[url])\r\nuseEffect(()=>{\r\n  console.log(songsContent)\r\n  setIndex(0)\r\n  timeArr = []\r\n  document.getElementById('songsWord')?.scrollTo({\r\n    top: 0, \r\n    behavior: \"smooth\" \r\n  })\r\n  // document.getElementsByClassName('adm-popup-body')[0].scrollTo({ \r\n  //   top: 0, \r\n  //   behavior: \"smooth\" \r\n  // })\r\n  songsContent?.forEach(val=>{\r\n    if(val.split(']')[1])\r\n      timeArr.push(val.split(']')[0].split('[')[1])\r\n  })\r\n  // console.log(timeArr)\r\n  if(timeArr[0] === undefined){\r\n    setScroll(true)\r\n  }\r\n  else{\r\n    setScroll(false)\r\n  }\r\n},[songsContent])\r\nuseEffect(()=>{\r\n  let obj = {}\r\n  zhContent.map((val, idx) => {\r\n    let key = val.split(']')[0].split('[')[1]\r\n    let value = val.split(']')[1]\r\n    obj[key] = value + 'd-t-f' + idx\r\n  })\r\n  setZhobj({...obj})\r\n},[zhContent])\r\nuseEffect(()=>{\r\n  console.log(zhObj)\r\n},[zhObj])\r\nuseEffect(() => {\r\n  let zhIndex = zhObj[timeArr[index]]?.split('d-t-f')[1]?zhObj[timeArr[index]]?.split('d-t-f')[1]-4:0\r\n  document.getElementById('songsWord')?.scrollTo({\r\n    top: showZh ? ((index - 4) + (zhIndex)) * 34 + 120 :(index - 4) * 34, \r\n    behavior: \"smooth\" \r\n  })\r\n}, [showZh])\r\n  useEffect(()=>{\r\n    // console.log(currentTime)\r\n    if(visiblee)\r\n      setFormatTime(formatSeconds(currentTime))\r\n  },[currentTime])\r\n  useEffect(()=>{\r\n    // console.log(timeArr)\r\n    for (let idx = indexx; index < timeArr.length; idx++) {\r\n      // console.log(`00:${timeArr[idx + 1]}`, formatTime)\r\n      if(`00:${timeArr[idx + 1]}` >= formatTime){\r\n        setIndex(idx)\r\n        break\r\n      }\r\n    }\r\n  },[formatTime])\r\n  useEffect(()=>{\r\n    // if(visiblee){\r\n    console.log(index + '[歌词]')\r\n    indexx = index\r\n    if(index > 4){\r\n      let zhIndex = zhObj[timeArr[index]]?.split('d-t-f')[1]?zhObj[timeArr[index]]?.split('d-t-f')[1]-4:0\r\n      document.getElementById('songsWord')?.scrollTo({\r\n        top: showZh ? ((index - 4) + (zhIndex)) * 34 + 120 :(index - 4) * 34, \r\n        behavior: \"smooth\" \r\n      })\r\n    }else{\r\n      document.getElementById('songsWord')?.scrollTo({\r\n        top: 0, \r\n        behavior: \"smooth\" \r\n      })\r\n    }\r\n    // }\r\n  },[index])\r\n  useEffect(() => {\r\n    console.log(index + '[歌词]')\r\n    indexx = index\r\n    if(index > 4){\r\n      let zhIndex = zhObj[timeArr[index]]?.split('d-t-f')[1]?zhObj[timeArr[index]]?.split('d-t-f')[1]-4:0\r\n      document.getElementById('songsWord')?.scrollTo({\r\n        top: showZh ? ((index - 4) + (zhIndex)) * 34 + 120 :(index - 4) * 34, \r\n        behavior: \"smooth\" \r\n      })\r\n    }else{\r\n      document.getElementById('songsWord')?.scrollTo({\r\n        top: 0, \r\n        behavior: \"smooth\" \r\n      })\r\n    }\r\n    return () => {\r\n      \r\n    };\r\n  }, [key])\r\n  let getMusic = ()=>{\r\n    let songNum = musicList.length\r\n    let idx = Math.floor(songNum * Math.random()) \r\n    apiPath.checkMusic({\r\n        id:musicList[idx].id\r\n    }).then(r=>{\r\n        // console.log(r.data)\r\n        apiPath.getSongsUrl({\r\n            id : musicList[idx].id\r\n        }).then(res=>{\r\n            setId(musicList[idx].id)\r\n            setUrl(res.data.data[0].url)\r\n            setAvator(musicList[idx].al.picUrl)\r\n            setTitle(musicList[idx].name + '-' + musicList[idx].ar[0].name)\r\n        })\r\n    }).catch(err=>{\r\n      Toast.show('暂无版权或请求失败')\r\n    })\r\n}\r\n  return (\r\n    <div className=\"App\">\r\n      <context.Provider value={{\r\n        url, setUrl, setTitle, setAvator, setNext, setMusicList, setId, id, setContent, setCurrentTime, setTotalTime, setAudioStatus, setIndex\r\n      }}> \r\n        <div className={`body`}>\r\n            <Switch>\r\n              <Route path={'/home'} component={Main} exact/>\r\n              <Route path={'/personalCenter'} component={Person} exact/>\r\n              <Route path={'/song'} component={Songs} exact/>\r\n              <Route path={'/search'} component={Search} exact/>\r\n              <Redirect to={'/home'}/>\r\n            </Switch>\r\n        </div>\r\n        <Audio \r\n          title = {title}\r\n          src = {url}\r\n          showProcess={false}\r\n          avator = {avator}\r\n          onEnd = {()=>{\r\n            getMusic()\r\n          }}\r\n          next={()=>{\r\n            getMusic()\r\n          }}\r\n          onClick={()=>{\r\n            setVisible(true)\r\n          }}\r\n        />\r\n         {showTab && <TabBar\r\n          activeKey={pathname}\r\n          onChange={(value)=>{\r\n            props.history.replace(`${value}`)\r\n          }\r\n        }>\r\n          {tabs.map(item => (\r\n              <TabBar.Item\r\n                key={item.key}\r\n                icon={item.icon}\r\n                title={item.title}\r\n              />\r\n            ))}\r\n        </TabBar>}\r\n        <Popup\r\n          visible={visible}\r\n          className={'popup'}\r\n          onMaskClick={() => {\r\n            setVisible(false)\r\n          }}\r\n          bodyStyle={{\r\n            height: '100vh'\r\n          }}\r\n        >\r\n          <Tabs onChange={(key)=>{setKey(key)}} activeKey={key}>\r\n            <Tabs.Tab title={'歌曲'} key={'control'}>\r\n              <div id='control' style={{ position:'relative', height: '100%', overflowY:'scroll'}}>\r\n                <Button fill='none' style={{position:'fixed',top:0, right:0}} onClick={()=>{\r\n                  setVisible(false)\r\n                }}>             \r\n                  <CloseOutline />\r\n                </Button>\r\n                <Grid columns={3} gap={10}> \r\n                    <Grid.Item onClick={()=>{\r\n                        setKey('songWord')\r\n                      }} span={3}  style={{padding:'10px'}}>\r\n                      <Avatar className={`control-img ${audioStatus ? 'control-img-animation-pause' :'control-img-animation'}`} src={avator} style={{width:'100%'}}/>\r\n                    </Grid.Item>\r\n                    <Grid.Item span={3}  style={{padding:'10px'}}>\r\n                      <Divider className='popUpsongName' style={{fontSize:'20px'}}><span onClick={()=>{\r\n                        if(window.location.hash === '#/song'){\r\n                          return\r\n                        }\r\n                         setVisible(false)\r\n                         Main.search(title.split('-')[0])\r\n                      }}>                          \r\n                        <NoticeBar \r\n                          content={title.split('-')[0]}\r\n                          style={{    \r\n                              padding: '0',\r\n                              color: 'black',\r\n                              boxSizing: 'border-box',\r\n                              border: 'none',\r\n                              height: px2rem('70px'),\r\n                              fontSize:px2rem('25px'),\r\n                              background:'white',\r\n                              flex: 100,\r\n                              justifyContent:'center'\r\n                          }} \r\n                          \r\n                          icon={<></>}\r\n                      /></span></Divider>\r\n                      <Divider style={{fontSize:'17px'}}><span onClick={()=>{\r\n                         if(window.location.hash === '#/song'){\r\n                           return\r\n                         }\r\n                         setVisible(false)\r\n                         Main.search(title.split('-')[1])\r\n                      }}>\r\n                          {title.split('-')[1]}\r\n                      </span></Divider>\r\n                    </Grid.Item>\r\n                    <Grid.Item span={3} style={{padding:'10px'}}>\r\n                      <Process\r\n                          total={total}\r\n                          current={currentTime}\r\n                          onClick={(current)=>{\r\n                              Audio.port(current)\r\n                          }}\r\n                      />\r\n                    </Grid.Item>\r\n                    <Grid.Item span={1} style={{textAlign:'right'}}>\r\n                      <Button  style={{borderRadius:'100px', width:'60px', height:\"60px\", transform:'rotate(180deg)'}}                        \r\n                                  onClick={(e)=>{\r\n                                      e.stopPropagation()\r\n                                      Toast.show('上一首')\r\n                                  }}><i \r\n                                  style={{fontSize:px2rem('25px')}}\r\n                                  className='iconfont icon-24gf-next'\r\n                              ></i>\r\n                        </Button>\r\n                    </Grid.Item>\r\n                    <Grid.Item span={1} style={{textAlign:'center'}}>\r\n                      <Button style={{borderRadius:\"100px\", width:'60px',height:\"60px\"}} onClick={(e)=>{\r\n                          e.stopPropagation()\r\n                          if(Audio.current.paused){\r\n                            Audio.current.play()\r\n                          }else{\r\n                            Audio.current.pause()\r\n                          }\r\n                      }}><i \r\n                          style={{fontSize:px2rem('25px')}}\r\n                          className={`iconfont ${audioStatus?'icon-bofang':'icon-zanting'}`}\r\n                      >\r\n                      </i></Button>\r\n                    </Grid.Item>\r\n                    <Grid.Item span={1}>\r\n                      <Button style={{borderRadius:'100px', width:'60px', height:\"60px\"}}                        \r\n                                  onClick={(e)=>{\r\n                                      e.stopPropagation()\r\n                                      getMusic()\r\n                                  }}><i \r\n                                  style={{fontSize:px2rem('25px')}}\r\n                                  className='iconfont icon-24gf-next'\r\n                              ></i>\r\n                        </Button>\r\n                    </Grid.Item>\r\n                </Grid>\r\n              </div>\r\n            </Tabs.Tab>\r\n            <Tabs.Tab title={'歌词'} key={'songWord'}>\r\n              <div id='songsWord' style={{ position:'relative', height: '100%', overflowY: 'scroll'}}>\r\n              <Button fill='none' style={{position:'fixed',top:0, right:0}} onClick={()=>{\r\n                setVisible(false)\r\n              }}>\r\n                <CloseOutline />\r\n              </Button>\r\n            <Divider>歌词-点击可跳转指定进度</Divider>\r\n            {(scroll || songsContent.length === 2) && <Divider>*该歌词不支持滚动以及定位*</Divider>}\r\n              {\r\n                songsContent?.map((val, idx)=>{\r\n                  return(\r\n                    <div onClick={()=>{\r\n                      // console.log(timeArr[idx])\r\n                      // console.log(`${timeArr[idx].split(':')[0]}`)\r\n                      // console.log(`${timeArr[idx].split(':')[1]}`)\r\n                      if(!scroll && !Audio.loadingData){\r\n                        if(songsContent.length === 2){\r\n                          return\r\n                        }\r\n                        setIndex(idx)\r\n                        Audio.port(`${timeArr[idx].split(':')[0] * 60 + timeArr[idx].split(':')[1] * 1}`)\r\n                      }\r\n                    }}>\r\n                      {!val.split(']')[1] && <Divider \r\n                        id={`divider${idx}`}\r\n                        className={`${index===idx?'dividerActive':'divider'}`}\r\n                        style={{opacity:'0', height:'0px'}}\r\n                      ></Divider>}\r\n                      {val.split(']')[1] && <Divider \r\n                        id={`divider${idx}`}\r\n                        className={`${index===idx?'dividerActive':'divider'}`}\r\n                      >\r\n                        {!scroll ? val.split(']')[1] : val}\r\n                      </Divider>}\r\n                      {\r\n                        (showZh && zhObj[timeArr[idx]]?.split('d-t-f')[0] ) && <Divider \r\n                          id={`divider${idx}`}\r\n                          className={`${index===idx?'dividerZhActive':'divider'}`}\r\n                        >\r\n                          <span>译: </span> {' ' + zhObj[timeArr[idx]].split('d-t-f')[0]}\r\n                        </Divider>\r\n                      }\r\n                    </div>\r\n                  )\r\n                })\r\n              }\r\n              {\r\n                isZh && <FloatingBubble\r\n                style={{\r\n                    '--initial-position-bottom': '60px',\r\n                    '--initial-position-right': '24px',\r\n                    // '--edge-distance': '24px',\r\n                  }}\r\n                  onClick={()=>{\r\n                    setShowZh(!showZh)\r\n                  }}>\r\n                    译\r\n                  </FloatingBubble>\r\n              }\r\n              <div style={{height:'80vh', width:'100%'}}></div>\r\n              </div>\r\n            </Tabs.Tab>\r\n          </Tabs>\r\n\r\n        </Popup>\r\n      </context.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { Button, Form, Input, NavBar, Grid, Toast, Tabs} from 'antd-mobile';\r\nimport { useEffect, useState } from 'react';\r\nimport { apiPath } from './component/util/request';\r\nlet timer\r\nfunction Login(props){\r\n    const [form] = Form.useForm()\r\n    let [disabled, setDisAble] = useState(true)\r\n    let [time, setTime] = useState(0)\r\n    useEffect(() => {\r\n        clearInterval(timer)\r\n        timer = setInterval(()=>{\r\n            setTime(time - 1)\r\n        },1000)\r\n        return () => {\r\n            \r\n        };\r\n    }, [time])\r\n    function jump(){\r\n        props.history.replace('/home')\r\n    }\r\n    function checkPhone(rule, value, callback) {\r\n        if (value && !value.match(/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57]|19[0-9])[0-9]{8}$/)) {\r\n            setDisAble(true)\r\n            callback('请输入正确的手机号')\r\n            return\r\n        }\r\n        setDisAble(false)\r\n        callback()\r\n      }\r\n    return (<>\r\n                <NavBar \r\n                    style={{background:'white',boxShadow: '0px 1px 1px rgba(0, 0, 0, 0.16)'}}\r\n                    back='' \r\n                    backArrow={false}\r\n                    right={<>\r\n                        <Button\r\n                            onClick={()=>{\r\n                                jump()\r\n                            }}\r\n                            fill='none'\r\n                        >跳过</Button>\r\n                    </>}\r\n                >\r\n                    登录\r\n                </NavBar>\r\n                <Tabs onChange={(value)=>{\r\n                    console.log(value)\r\n                }}>\r\n                    <Tabs.Tab title='密码登录' key='password'>\r\n                        <Form \r\n                        layout='horizontal'\r\n                        form={form}\r\n                        // style={{paddingTop:'100px'}}\r\n                        footer={\r\n                            <>\r\n                                <Button onClick={()=>{\r\n                                    form.validateFields().then((rules, err)=>{\r\n                                        if(!err){\r\n                                            apiPath.loginByphone(form.getFieldsValue()).then(res=>{\r\n                                                if(res.data.code === 200){\r\n                                                    localStorage.setItem('token',res.data.token)\r\n                                                    localStorage.setItem('userInfo',JSON.stringify(res.data.profile))\r\n                                                    localStorage.setItem('cookie',JSON.stringify(res.data.cookie))\r\n                                                    document.cookie = res.data.cookie\r\n                                                    localStorage.setItem('account',JSON.stringify(res.data.account))\r\n                                                    props.history.replace('/home')\r\n                                                }\r\n                                            })\r\n                                        }\r\n                                    })\r\n                                }} block color='primary' size='large'>登录</Button>\r\n                                <Grid.Item style={{height:'10px'}}></Grid.Item>\r\n                                <Button block  size='large' onClick={()=>{\r\n                                    props.history.replace('/regist')\r\n                                }}>注册</Button>\r\n                            </>\r\n                        }>\r\n                            <Form.Item \r\n                                label='手机号'\r\n                                rules={[\r\n                                    { required: true, message: '请输入手机号' },\r\n                                    { validator: checkPhone }\r\n                                ]}\r\n                                name=\"phone\"\r\n                            >\r\n                                <Input placeholder='请输入手机号' onChange={()=>{\r\n                                    \r\n                                }}/>\r\n                            </Form.Item>\r\n                            <Form.Item \r\n                                label='密码'\r\n                                rules={[{ required: true, message: '请输入密码' }]}\r\n                                name=\"password\"\r\n                            >\r\n                                <Input placeholder='请输入密码' type={'password'} onChange={()=>{\r\n                                    \r\n                                }}/>\r\n                            </Form.Item>\r\n                        </Form>  \r\n                    </Tabs.Tab>\r\n                    <Tabs.Tab title='验证码登录' key='captcha'>\r\n                    <Form \r\n                        layout='horizontal'\r\n                        form={form}\r\n                        // style={{paddingTop:'100px'}}\r\n                        footer={\r\n                            <>\r\n                                <Button onClick={()=>{\r\n                                    form.validateFields().then((rules, err)=>{\r\n                                        if(!err){\r\n                                            apiPath.checkCode({\r\n                                                phone:form.getFieldValue('phone'),\r\n                                                captcha:form.getFieldValue('captcha')\r\n                                            }).then(res=>{\r\n                                                // console.log(res.data.data)\r\n                                                if(res.data?.data){\r\n                                                    apiPath.loginByphone({\r\n                                                        phone:form.getFieldValue('phone'),\r\n                                                        captcha:form.getFieldValue('captcha')\r\n                                                    }).then(res=>{\r\n                                                        if(res.data.code === 200){\r\n                                                            localStorage.setItem('token',res.data.token)\r\n                                                            localStorage.setItem('userInfo',JSON.stringify(res.data.profile))\r\n                                                            localStorage.setItem('cookie',JSON.stringify(res.data.cookie))\r\n                                                            localStorage.setItem('account',JSON.stringify(res.data.account))\r\n                                                            document.cookie = res.data.cookie\r\n                                                        }\r\n                                                    })\r\n                                                    props.history.replace('/home')\r\n                                                }\r\n                                            })\r\n                                        }\r\n                                    })\r\n                                }} block color='primary' size='large'>登录</Button>\r\n                                <Grid.Item style={{height:'10px'}}></Grid.Item>\r\n                                <Button block  size='large' onClick={()=>{\r\n                                    props.history.replace('/regist')\r\n                                }}>注册</Button>\r\n                            </>\r\n                        }>\r\n                            <Form.Item \r\n                                label='手机号'\r\n                                rules={[\r\n                                    { required: true, message: '请输入手机号' },\r\n                                    { validator: checkPhone }\r\n                                ]}\r\n                                name=\"phone\"\r\n                            >\r\n                                <Input placeholder='请输入手机号' onChange={()=>{\r\n                                    \r\n                                }}/>\r\n                            </Form.Item>\r\n                            <Form.Item \r\n                                label='短信验证码'\r\n                                rules={[{ required: true, message: '请输入验证码' }]}\r\n                                name=\"captcha\"\r\n                                extra={\r\n                                    <Button color='primary' disabled={disabled} fill='none' onClick={(e)=>{\r\n                                        apiPath.sendCode({\r\n                                            phone: form.getFieldValue('phone')\r\n                                        }).then(res=>{\r\n                                            if(res.data.data){\r\n                                                setDisAble(true)\r\n                                                setTime(60)\r\n                                            }else{\r\n                                                Toast.show('发送失败')\r\n                                            }\r\n                                        })\r\n                                    }}>发送验证码{time > 0 ?`(${time}s)`:''}</Button>\r\n                                  }\r\n                            >\r\n                                <Input clearable placeholder='请输入验证码' type={'text'} onChange={()=>{\r\n                                    \r\n                                }}/>\r\n                            </Form.Item>\r\n                        </Form>  \r\n                    </Tabs.Tab>\r\n                </Tabs>\r\n  \r\n            </>\r\n    )\r\n}\r\nexport default Login","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { Button, Form, Input, NavBar, Grid, Toast} from 'antd-mobile';\r\nimport { useState } from 'react';\r\nimport { apiPath } from './component/util/request';\r\nlet password = ''\r\nfunction Regist(props){\r\n    const [form] = Form.useForm()\r\n    let [disabled, setDisAble] = useState(true)\r\n    let [time, setTime] = useState(0)\r\n    function checkPassword(rule, value, callback){\r\n        if(value){\r\n            if(value !== password){\r\n                callback('密码不一致')\r\n            }\r\n        }\r\n        callback()\r\n    }\r\n    function submit(){\r\n        let params = form.getFieldsValue()\r\n        // console.log(params)\r\n        apiPath.regist(params).then(res=>{\r\n            console.log(res.data)\r\n\r\n        })\r\n    }\r\n    async function checkPhone(rule, value, callback) {\r\n        if (value && !value.match(/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57]|19[0-9])[0-9]{8}$/)) {\r\n            setDisAble(true)\r\n            callback('请输入正确的手机号')\r\n            return\r\n        }\r\n        if(value){\r\n            let res = await apiPath.checkPhone({\r\n                phone:value\r\n            })\r\n            if(res.data.hasPassword){\r\n                // console.log('手机号注册')\r\n                Toast.show('该手机号已注册')\r\n                setDisAble(true)\r\n                return\r\n            }\r\n        }\r\n        setDisAble(false)\r\n        callback()\r\n      }\r\n    return (<>\r\n                <NavBar back='' backArrow={false} style={{background:'white',boxShadow: '0px 1px 1px rgba(0, 0, 0, 0.16)'}}>\r\n                    注册\r\n                </NavBar>\r\n                <Form \r\n                    form={form}\r\n                    layout='horizontal'\r\n                    // style={{paddingTop:'100px'}}\r\n                    footer={\r\n                        <>\r\n                            <Button onClick={()=>{\r\n                                form.validateFields().then((errors, values)=>{\r\n                                    if(errors){\r\n                                        // console.log(errors)\r\n                                        return\r\n                                    }\r\n                                    apiPath.checkCode({\r\n                                        phone:form.getFieldValue('phone'),\r\n                                        captcha:form.getFieldValue('captcha')\r\n                                    }).then(res=>{\r\n                                        // console.log(res.data.data)\r\n                                        if(res.data?.data){\r\n                                            submit()\r\n                                        }else{\r\n                                            Toast.show('验证码错误')\r\n                                        }\r\n                                    })\r\n                                })\r\n                            }} block color='primary' size='large'>注册</Button>\r\n                            <Grid.Item style={{height:'10px'}}></Grid.Item>\r\n                            <Button block  size='large'\r\n                                onClick={()=>{\r\n                                    props.history.replace('/login')\r\n                                }}\r\n                            >返回登录</Button>\r\n                        </>\r\n                }>\r\n                    <Form.Item\r\n                        label='昵称'\r\n                        name={'nickname'}\r\n                        rules={[\r\n                            { required: true, message: '昵称不能为空'}\r\n                        ]}\r\n                    >\r\n                        <Input placeholder='请输入昵称' onChange={()=>{\r\n                            \r\n                        }}/>\r\n                    </Form.Item>\r\n                    <Form.Item \r\n                        label='手机号'\r\n                        rules={[\r\n                            { required: true, message: '手机号不能为空' },\r\n                            { validator: checkPhone }\r\n                        ]}\r\n                        name=\"phone\"\r\n                    >\r\n                        <Input placeholder='请输入手机号' onChange={()=>{\r\n                            \r\n                        }}/>\r\n                    </Form.Item>\r\n                    <Form.Item \r\n                        label='密码'\r\n                        rules={[{ required: true, message: '密码不能为空' }]}\r\n                        name=\"password\"\r\n                    >\r\n                        <Input type={'password'} placeholder='请输入密码' onChange={(e)=>{\r\n                            password = e\r\n                        }}/>\r\n                    </Form.Item>\r\n                    <Form.Item \r\n                        label='确认密码'\r\n                        rules={[\r\n                            { required: true, message: '密码不能为空' },\r\n                            { validator: checkPassword }\r\n                        ]}\r\n                        name=\"password2\"\r\n                    >\r\n                        <Input type={'password'} placeholder='请输入密码' onChange={()=>{\r\n                            \r\n                        }}/>\r\n                    </Form.Item>\r\n                    <Form.Item \r\n                        label='短信验证码'\r\n                        rules={[{ required: true, message: '请输入验证码' }]}\r\n                        name=\"captcha\"\r\n                        extra={\r\n                            <Button color='primary' disabled={disabled} fill='none' onClick={(e)=>{\r\n                                \r\n                                apiPath.sendCode({\r\n                                    phone: form.getFieldValue('phone')\r\n                                }).then(res=>{\r\n                                    if(res.data.data){\r\n                                        setDisAble(true)\r\n                                        setTime(60)\r\n                                    }else{\r\n                                        Toast.show('发送失败')\r\n                                    }\r\n                                })\r\n                            }}>发送验证码{time > 0 ?`(${time}s)`:''}</Button>\r\n                          }\r\n                    >\r\n                        <Input clearable placeholder='请输入验证码' type={'text'} onChange={()=>{\r\n                            \r\n                        }}/>\r\n                    </Form.Item>\r\n                </Form>    \r\n            </>\r\n    )\r\n}\r\nexport default Regist","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './less/index.less';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'lib-flexible'\r\nimport 'highlight.js/styles/dark.css'\r\nimport { HashRouter, Route, Switch } from 'react-router-dom';\r\nimport Login from './page/login'\r\nimport Regist from './page/regist'\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <Switch>\r\n        <Route path={'/login'} component={Login} exact/>\r\n        <Route path={'/regist'} component={Regist} exact/>\r\n        <Route path={'/'} component={App}/>\r\n      </Switch>\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')  \r\n);\r\nreportWebVitals();\r\n"],"sourceRoot":""}